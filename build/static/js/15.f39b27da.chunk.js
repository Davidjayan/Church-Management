(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{609:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c="http://localhost/Church-management-api/api"},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(25),a=n(762),s=n(792),r=n(800),o=(n(0),n(614)),i=n.n(o),l=n(2),j=function(e){var t=e.notify,n=e.setNotify;return Object(l.jsx)(a.a,{direction:"down",in:t.isOpen,children:Object(l.jsx)(s.a,{severity:t.severity,variant:t.variant,style:{alignContent:"center",alignItems:"center",fontSize:18,position:"fixed",zIndex:3,marginLeft:"25%"},action:Object(l.jsx)(r.a,{"aria-label":"close",color:"inherit",size:"large",onClick:function(){n(Object(c.a)(Object(c.a)({},t),{},{isOpen:!1}))},children:Object(l.jsx)(i.a,{fontSize:"inherit"})}),sx:{mb:7},points:"0,100 50,00, 100,100",children:t.message})})}},779:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n(69),s=n(789),r=n(0),o=n(609),i=n(610),l=n(2);t.default=function(){var e=Object(r.useState)(),t=Object(a.a)(e,2),n=t[0],j=t[1],b=Object(r.useState)("none"),d=Object(a.a)(b,2),u=d[0],O=d[1],h=Object(r.useState)("none"),p=Object(a.a)(h,2),g=p[0],x=p[1],f=Object(r.useState)("block"),v=Object(a.a)(f,2),S=v[0],y=v[1],m=Object(r.useState)("none"),C=Object(a.a)(m,2),E=C[0],I=C[1],N=Object(r.useState)(),R=Object(a.a)(N,2),D=R[0],k=R[1],T=Object(r.useState)(),V=Object(a.a)(T,2),P=V[0],A=V[1],F=Object(r.useState)([]),M=Object(a.a)(F,2),w=M[0],z=M[1],H=Object(r.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),J=Object(a.a)(H,2),Y=J[0],q=J[1],B=Object(r.useState)("FIRST SERVICE"),L=Object(a.a)(B,2),U=L[0],G=L[1],K=0,Q=0,W=0,X=new Date,Z=X.getDate(),$=X.getMonth()+1>12?X.getMonth():X.getMonth()+1,_=X.getFullYear();X=_+"-"+$+"-"+Z;var ee=Object(r.useState)(!0),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],ae=Object(r.useState)(X),se=Object(a.a)(ae,2),re=se[0],oe=se[1],ie=Object(r.useState)([]),le=Object(a.a)(ie,2),je=le[0],be=le[1],de=Object(r.useState)([]),ue=Object(a.a)(de,2),Oe=ue[0],he=ue[1],pe=Object(r.useState)(),ge=Object(a.a)(pe,2),xe=ge[0],fe=ge[1],ve=new Date(D),Se=new Date(P),ye=ve.getDate();ye=ye<10?"0"+ye:ye;var me=ve.getMonth()+1>12?ve.getMonth():ve.getMonth()+1;me=me<10?"0"+me:me,"00"===ye&&(ye=31,me-=1);var Ce=ve.getFullYear(),Ee=Se.getDate();Ee=Ee<10?"0"+Ee:Ee;var Ie=Se.getMonth()+1>12?Se.getMonth():Se.getMonth()+1;Ie=Ie<10?"0"+Ie:Ie,"00"===Ee&&(Ee=31,Ie-=1);var Ne=Se.getFullYear();return Object(l.jsxs)("div",{className:"get-student-att-body",children:[Object(l.jsx)(i.a,{notify:Y,setNotify:q}),Object(l.jsx)("p",{children:"Search By:"}),Object(l.jsxs)("select",{value:n,onChange:function(e){j(e.target.value),O("Name"===e.target.value?"block":"none"),x("Date"===e.target.value?"block":"none"),y("Date"===e.target.value?"none":"block")},children:[Object(l.jsx)("option",{children:"Select"}),Object(l.jsx)("option",{value:"Name",children:"Name"}),Object(l.jsx)("option",{value:"Date",children:"Date"})]}),Object(l.jsxs)("div",{style:{display:u},children:[Object(l.jsx)(s.a,{list:"namelist",placeholder:"Enter Name",value:xe,onChange:function(e){fetch("".concat(o.a,"/searchname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){z(e)})).catch((function(e){console.error(e)}));for(var t=e.target.value.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);var c=t.join(" ");fe(c)}}),Object(l.jsx)("datalist",{style:{backgroundColor:"black"},id:"namelist",children:w.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))}),Object(l.jsx)("p",{children:"From:"}),Object(l.jsx)(s.a,{onChange:function(e){k(e.target.valueAsDate)},type:"date"}),Object(l.jsx)("p",{children:"To:"}),Object(l.jsx)(s.a,{onChange:function(e){A(e.target.valueAsDate)},type:"date"}),Object(l.jsx)("button",{style:{margin:10},className:"btn",onClick:function(){D&&P&&xe?fetch("".concat(o.a,"/searchchurchattbyname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:xe,fromdate:D,todate:P})}).then((function(e){return e.json()})).then((function(e){"No matches found on Record"!==e?(be(e),y("block"),I("block")):(q(Object(c.a)(Object(c.a)({},Y),{},{isOpen:!0,message:e})),y("none"))})).catch((function(e){console.error(e)})):q(Object(c.a)(Object(c.a)({},Y),{},{isOpen:!0,message:"Input All required"}))},children:"Submit"}),Object(l.jsxs)("select",{onChange:function(e){G(e.target.value)},children:[Object(l.jsx)("option",{value:"FIRST SERVICE",children:"FIRST SERVICE"}),Object(l.jsx)("option",{value:"SECOND SERVICE",children:"SECOND SERVICE"}),Object(l.jsx)("option",{value:"THIRD SERVICE",children:"THIRD SERVICE"})]})]}),Object(l.jsxs)("div",{style:{display:g},children:[Object(l.jsx)(s.a,{type:"date",onChange:function(e){return oe(e.target.value)}}),Object(l.jsxs)("select",{onChange:function(e){return ce("true"===e.target.value)},children:[Object(l.jsx)("option",{value:"true",children:"Present"}),Object(l.jsx)("option",{value:"false",children:"Absent"})]}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsx)("button",{className:"btn",onClick:function(){0!==re.length?fetch("".concat(o.a,"/searchchurchattbydate.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({date:re})}).then((function(e){return e.json()})).then((function(e){"No matches found on Record"!==e?he(e):(he([{StudentName:"No results found",Present:1}]),q(Object(c.a)(Object(c.a)({},Y),{},{isOpen:!0,message:e})))})).catch((function(e){console.error(e)})):q(Object(c.a)(Object(c.a)({},Y),{},{isOpen:!0,message:"Input All required"}))},children:"Submit"})}),Object(l.jsxs)("select",{onChange:function(e){G(e.target.value)},children:[Object(l.jsx)("option",{value:"FIRST SERVICE",children:"FIRST SERVICE"}),Object(l.jsx)("option",{value:"SECOND SERVICE",children:"SECOND SERVICE"}),Object(l.jsx)("option",{value:"THIRD SERVICE",children:"THIRD SERVICE"})]}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsxs)("b",{style:{color:"#f70084"},children:[" People present on ",re]})})})}),Oe.map((function(e){return Q=e.Service===U&&"1"===e.Present?Q+1:Q,W=e.Service===U&&"0"===e.Present?W+1:W,e.Present===ne&&e.Service===U?Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:e.Name})})},e.Name):Object(l.jsx)("div",{})})),Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"#f70084"},children:["No of Presents : ",Object(l.jsx)("b",{style:{color:"green"},children:Q})]}),Object(l.jsxs)("p",{style:{color:"#f70084"},children:["No of Absents : ",Object(l.jsx)("b",{style:{color:"red"},children:W})]})]})]})]}),Object(l.jsxs)("div",{style:{display:S},children:[Object(l.jsx)("table",{style:{display:"grid",justifyContent:"center"},children:je.map((function(e){return 1!=e.Present?Object(l.jsx)("div",{}):(K+=1,U==e.Service?Object(l.jsx)("tbody",{style:{backgroundColor:"#ccc"},children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{style:{color:"black",padding:20},children:e.Name}),Object(l.jsx)("td",{style:{color:"black",padding:20},children:e.Date})]})},e.Name):void 0)}))}),Object(l.jsxs)("div",{style:{display:E,margin:10},children:[xe," was present ",K," ",K>1?"days":"day"," between ",ye+"/"+me+"/"+Ce," to  ",Ee+"/"+Ie+"/"+Ne," "]})]})]})}}}]);
//# sourceMappingURL=15.f39b27da.chunk.js.map