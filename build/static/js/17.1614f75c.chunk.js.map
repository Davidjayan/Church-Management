{"version":3,"sources":["views/Components/Support/AlertMessage.js","views/Constants.js","views/Components/Sub Components/Getstudentattendance.js"],"names":["AlertMessage","props","notify","setNotify","direction","in","isOpen","severity","variant","style","alignContent","alignItems","fontSize","position","zIndex","marginLeft","action","color","size","onClick","sx","mb","points","message","url","Getstudentattendance","useState","firstField","setfirstField","display1","setdisplay1","display2","setdisplay2","display3","setdisplay3","display4","setdisplay4","fromdate","setfromdate","todate","settodate","namelist","setnamelist","count","presentcount","absentcount","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","present1","isPresent1","date","setdate","obj","setobj","obj1","setobj1","name","setname","from","to","fromdd","frommm","fromyy","todd","tomm","toyy","className","value","onChange","event","target","display","list","placeholder","str","split","i","length","charAt","toUpperCase","substring","Name","join","fetch","method","headers","then","res","json","result","catch","error","console","backgroundColor","id","map","k","key","valueAsDate","type","margin","body","JSON","stringify","padding","p","Present","StudentName","justifyContent"],"mappings":"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","file":"static/js/17.1614f75c.chunk.js","sourcesContent":["import { Alert, Collapse,Slide ,IconButton } from \"@mui/material\";\nimport React,{ useState } from \"react\";\nimport CloseIcon from '@mui/icons-material/Close';\n\nexport const AlertMessage=(props)=>{\n  const {notify,setNotify} = props;\n    return(\n        <Slide direction=\"down\" in={notify.isOpen}>\n        <Alert\n          severity={notify.severity}\n          variant={notify.variant}\n          style={{\n            alignContent:\"center\",\n            alignItems:\"center\",\n            fontSize:18,\n            position:'fixed',\n            zIndex:3,\n            marginLeft:'25%'\n          }}\n          action={\n            <IconButton\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"large\"\n              onClick={() => {\n                setNotify({...notify,isOpen:false});\n              }}\n            >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }\n          sx={{ mb:7 }}\n          points=\"0,100 50,00, 100,100\"\n        >\n         {notify.message}\n        </Alert>\n      </Slide>\n    )\n}","// export const url = \"http://backendjnag.rf.gd\";\nexport const url = \"https://admin-management-website.000webhostapp.com/Church-management-api/api\"; \n// export const url = \"http://localhost/Church-management-api/api\"; ","import { TextField } from '@mui/material';\nimport React, { useState } from 'react';\nimport { url } from '../../Constants';\nimport { AlertMessage } from '../Support/AlertMessage';\n\nconst Getstudentattendance = () => {\n    const [firstField, setfirstField] = useState();\n    const [display1, setdisplay1] = useState(\"none\");\n    const [display2, setdisplay2] = useState(\"none\");\n    const [display3, setdisplay3] = useState(\"none\");\n    const [display4, setdisplay4] = useState(\"none\");\n    const [fromdate, setfromdate] = useState();\n    const [notify, setNotify] = useState({ isOpen: false, message: '', variant: 'filled', severity: 'error' });\n    const [todate, settodate] = useState();\n    const [namelist, setnamelist] = useState([]);\n\n    let count = 0;\n\n    let presentcount = 0;\n    let absentcount = 0;\n    let today = new Date();\n\n    let dd = today.getDate();\n    dd = dd < 10 ? \"0\" + dd : dd;\n    if (dd === \"00\") {\n        dd = 31;\n        mm = mm - 1;\n    }\n\n    let mm = (today.getMonth() + 1) > 12 ? today.getMonth() : today.getMonth() + 1;\n    mm = mm < 10 ? \"0\" + mm : mm;\n    let yyyy = today.getFullYear();\n\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n\n    const [present1, isPresent1] = useState(true);\n    const [date, setdate] = useState(today);\n    const [obj, setobj] = useState([]);\n    const [obj1, setobj1] = useState([]);\n\n    const [name, setname] = useState();\n\n    let from = new Date(fromdate);\n    let to = new Date(todate);\n\n    let fromdd = from.getDate();\n    fromdd = fromdd < 10 ? \"0\" + fromdd : fromdd;\n    if (fromdd === \"00\") {\n        fromdd = 31;\n        frommm = frommm - 1;\n    }\n\n    let frommm = (from.getMonth() + 1) > 12 ? from.getMonth() : from.getMonth() + 1;\n    frommm = frommm < 10 ? \"0\" + frommm : frommm;\n    let fromyy = from.getFullYear();\n\n    let todd = to.getDate();\n    todd = todd < 10 ? \"0\" + todd : todd;\n    if (todd === \"00\") {\n        todd = 31;\n        tomm = tomm - 1;\n    }\n\n    let tomm = (to.getMonth() + 1) > 12 ? to.getMonth() : to.getMonth() + 1;\n    tomm = tomm < 10 ? \"0\" + tomm : tomm;\n    let toyy = to.getFullYear();\n\n    const submit1 = () => {\n        if (date) {\n            fetch(`${url}/searchbydate.php`, {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n\n                },\n                body: JSON.stringify({\n                    date: date\n\n                })\n            })\n                .then(res => res.json())\n                .then((result) => {\n                    if (result !== \"No matches found on Record\") {\n                        setobj1(result);\n\n                    }\n                    else {\n                        setobj1([{ \"StudentName\": \"No results found\", \"Present\": 1 }]);\n                        setNotify({\n                            ...notify,\n                            isOpen:true,\n                            message:result\n                        })\n\n\n                    }\n                }).catch((error) => {\n                    console.error(error);\n                });\n\n        }\n\n\n        else {\n            setNotify({\n                ...notify,\n                isOpen:true,\n                message:'Input All required'\n            })\n        }\n    }\n\n    const submit = () => {\n        if (fromdate && todate && name) {\n            fetch(`${url}/searchbystudentname.php`, {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n\n                },\n                body: JSON.stringify({\n                    name: name,\n                    fromdate: fromdate,\n                    todate: todate\n\n                })\n            })\n                .then(res => res.json())\n                .then((result) => {\n                    if (result !== \"No matches found on Record\") {\n                        setobj(result);\n                        setdisplay3(\"block\");\n                        setdisplay4(\"block\");\n                    }\n                    else {\n                        setNotify({\n                            ...notify,\n                            isOpen:true,\n                            message:result\n                        })\n                        setdisplay3(\"none\");\n                    }\n                }).catch((error) => {\n                    console.error(error);\n                });\n\n        }\n\n\n        else {\n            setNotify({\n                ...notify,\n                isOpen:true,\n                message:'Input All required'\n            })\n        }\n    }\n\n\n    const searchapi = () => {\n        fetch(`${url}/searchstudentname.php`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                setnamelist(result);\n            }).catch((error) => {\n                console.error(error);\n            });\n    }\n\n    return (\n\n        <div className=\"get-student-att-body\" >\n            <AlertMessage\n            notify={notify}\n            setNotify={setNotify}\n            />\n            <p>Search By:</p>\n            <select value={firstField} onChange={(event) => {\n                setfirstField(event.target.value);\n                setdisplay1(event.target.value === \"Name\" ? \"block\" : \"none\");\n                setdisplay2(event.target.value === \"Date\" ? \"block\" : \"none\");\n                setdisplay3(event.target.value === \"Date\" ? \"none\" : \"block\");\n            }} >\n                <option>Select</option>\n                <option value=\"Name\" >Name</option>\n                <option value=\"Date\" >Date</option>\n            </select>\n            <div style={{ display: display1 }}>\n                <TextField list=\"namelist\" placeholder=\"Enter Name\" value={name} onChange={(event) => {\n                    const str = event.target.value.split(' ');\n                    for (let i = 0; i < str.length; i++) {\n\n                        str[i] = str[i].charAt(0).toUpperCase() + str[i].substring(1);\n                    }\n\n                    const Name = str.join(' ');\n\n                    setname(Name); searchapi();\n                }} ></TextField>\n                <datalist style={{ backgroundColor: \"black\" }} id=\"namelist\">\n                    {namelist.map((k, key) => {\n                        return (\n                            <option key={key} >{k}</option>\n                        )\n                    })}\n                </datalist>\n                <p>From:</p><TextField onChange={(event) => { setfromdate(event.target.valueAsDate); }} type=\"date\" ></TextField>\n                <p>To:</p><TextField onChange={(event) => { settodate(event.target.valueAsDate); }} type=\"date\" ></TextField>\n\n\n                <button style={{ margin: 10 }} className=\"btn\" onClick={() => submit()} >Submit</button>\n            </div>\n            <div style={{ display: display2 }}>\n\n                <TextField type=\"date\" onChange={(event) => setdate(event.target.value)}></TextField>\n\n                <select onChange={(event) => isPresent1(event.target.value === \"true\" ? true : false)}>\n                    <option value=\"true\" >Present</option>\n                    <option value=\"false\" >Absent</option>\n                </select>\n                <div style={{ padding: 10 }}>\n                    <button className=\"btn\" onClick={() => submit1()} >Submit</button></div>\n                <table>\n                    <thead>\n                        <tr>\n                            <td>\n                                <b style={{ color: \"#f70084\" }}> Students present on {date}</b>\n                            </td>\n\n                        </tr>\n                    </thead>\n\n                    {obj1.map((p) => {\n                        presentcount = p.Present === \"1\" ? presentcount + 1 : presentcount;\n                        absentcount = p.Present === \"0\" ? absentcount + 1 : absentcount;\n                        if (p.Present == present1) {\n\n                            return (\n\n                                <tbody key={p.StudentName} >\n                                    <tr>\n                                        <td>\n                                            {p.StudentName}\n                                        </td>\n                                    </tr>\n                                </tbody>\n\n                            )\n                        }\n                        else {\n\n                        }\n\n\n\n                    })}\n                    <div>\n                        <p style={{ color: \"#f70084\" }}>No of Presents : <b style={{ color: \"green\" }}>{presentcount}</b></p>\n                        <p style={{ color: \"#f70084\" }}>No of Absents : <b style={{ color: \"red\" }}>{absentcount}</b></p>\n                    </div>\n                </table>\n\n\n            </div>\n            <div style={{ display: display3 }}>\n                <table style={{ display: \"grid\", justifyContent: \"center\" }}>\n                    {obj.map((p) => {\n                        if (p.Present == 1) {\n                            count = count + 1;\n\n                            return (\n                                <tbody key={p.StudentName} style={{ backgroundColor: \"#ccc\" }} >\n                                    <tr>\n                                        <td style={{ color: \"black\", padding: 20 }}>{p.StudentName}</td>\n                                        <td style={{ color: \"black\", padding: 20 }}>{p.Date}</td>\n                                    </tr>\n                                </tbody>\n                            );\n\n                        }\n                    })}\n                </table>\n\n                <div style={{ display: display4, margin: 10 }} >\n                    {name} was present {count} {count > 1 ? \"days\" : \"day\"} between {fromdd + \"/\" + frommm + \"/\" + fromyy} to  {todd + \"/\" + tomm + \"/\" + toyy} </div>\n            </div>\n        </div>\n\n    )\n\n}\n\nexport default Getstudentattendance;"],"sourceRoot":""}