(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{609:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c="http://localhost/Church-management-api/api"},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(25),a=n(762),s=n(792),r=n(800),o=(n(0),n(614)),i=n.n(o),l=n(2),j=function(e){var t=e.notify,n=e.setNotify;return Object(l.jsx)(a.a,{direction:"down",in:t.isOpen,children:Object(l.jsx)(s.a,{severity:t.severity,variant:t.variant,style:{alignContent:"center",alignItems:"center",fontSize:18,position:"fixed",zIndex:3,marginLeft:"25%"},action:Object(l.jsx)(r.a,{"aria-label":"close",color:"inherit",size:"large",onClick:function(){n(Object(c.a)(Object(c.a)({},t),{},{isOpen:!1}))},children:Object(l.jsx)(i.a,{fontSize:"inherit"})}),sx:{mb:7},points:"0,100 50,00, 100,100",children:t.message})})}},780:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n(69),s=n(789),r=n(0),o=n(609),i=n(610),l=n(2);t.default=function(){var e=Object(r.useState)(),t=Object(a.a)(e,2),n=t[0],j=t[1],b=Object(r.useState)("none"),d=Object(a.a)(b,2),u=d[0],O=d[1],h=Object(r.useState)("none"),p=Object(a.a)(h,2),f=p[0],g=p[1],x=Object(r.useState)("none"),y=Object(a.a)(x,2),m=y[0],v=y[1],S=Object(r.useState)("none"),N=Object(a.a)(S,2),C=N[0],k=N[1],D=Object(r.useState)(),A=Object(a.a)(D,2),P=A[0],M=A[1],w=Object(r.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),T=Object(a.a)(w,2),z=T[0],F=T[1],I=Object(r.useState)(),J=Object(a.a)(I,2),Y=J[0],q=J[1],R=Object(r.useState)([]),B=Object(a.a)(R,2),E=B[0],L=B[1],U=0,G=0,H=0,K=new Date,Q=K.getDate();"00"===(Q=Q<10?"0"+Q:Q)&&(Q=31,V-=1);var V=K.getMonth()+1>12?K.getMonth():K.getMonth()+1;V=V<10?"0"+V:V;var W=K.getFullYear();K=W+"-"+V+"-"+Q;var X=Object(r.useState)(!0),Z=Object(a.a)(X,2),$=Z[0],_=Z[1],ee=Object(r.useState)(K),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],ae=Object(r.useState)([]),se=Object(a.a)(ae,2),re=se[0],oe=se[1],ie=Object(r.useState)([]),le=Object(a.a)(ie,2),je=le[0],be=le[1],de=Object(r.useState)(),ue=Object(a.a)(de,2),Oe=ue[0],he=ue[1],pe=new Date(P),fe=new Date(Y),ge=pe.getDate();"00"===(ge=ge<10?"0"+ge:ge)&&(ge=31,xe-=1);var xe=pe.getMonth()+1>12?pe.getMonth():pe.getMonth()+1;xe=xe<10?"0"+xe:xe;var ye=pe.getFullYear(),me=fe.getDate();"00"===(me=me<10?"0"+me:me)&&(me=31,ve-=1);var ve=fe.getMonth()+1>12?fe.getMonth():fe.getMonth()+1;ve=ve<10?"0"+ve:ve;var Se=fe.getFullYear();return Object(l.jsxs)("div",{className:"get-student-att-body",children:[Object(l.jsx)(i.a,{notify:z,setNotify:F}),Object(l.jsx)("p",{children:"Search By:"}),Object(l.jsxs)("select",{value:n,onChange:function(e){j(e.target.value),O("Name"===e.target.value?"block":"none"),g("Date"===e.target.value?"block":"none"),v("Date"===e.target.value?"none":"block")},children:[Object(l.jsx)("option",{children:"Select"}),Object(l.jsx)("option",{value:"Name",children:"Name"}),Object(l.jsx)("option",{value:"Date",children:"Date"})]}),Object(l.jsxs)("div",{style:{display:u},children:[Object(l.jsx)(s.a,{list:"namelist",placeholder:"Enter Name",value:Oe,onChange:function(e){for(var t=e.target.value.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);var c=t.join(" ");he(c),fetch("".concat(o.a,"/searchstudentname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){L(e)})).catch((function(e){console.error(e)}))}}),Object(l.jsx)("datalist",{style:{backgroundColor:"black"},id:"namelist",children:E.map((function(e,t){return Object(l.jsx)("option",{children:e},t)}))}),Object(l.jsx)("p",{children:"From:"}),Object(l.jsx)(s.a,{onChange:function(e){M(e.target.valueAsDate)},type:"date"}),Object(l.jsx)("p",{children:"To:"}),Object(l.jsx)(s.a,{onChange:function(e){q(e.target.valueAsDate)},type:"date"}),Object(l.jsx)("button",{style:{margin:10},className:"btn",onClick:function(){P&&Y&&Oe?fetch("".concat(o.a,"/searchbystudentname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:Oe,fromdate:P,todate:Y})}).then((function(e){return e.json()})).then((function(e){"No matches found on Record"!==e?(oe(e),v("block"),k("block")):(F(Object(c.a)(Object(c.a)({},z),{},{isOpen:!0,message:e})),v("none"))})).catch((function(e){console.error(e)})):F(Object(c.a)(Object(c.a)({},z),{},{isOpen:!0,message:"Input All required"}))},children:"Submit"})]}),Object(l.jsxs)("div",{style:{display:f},children:[Object(l.jsx)(s.a,{type:"date",onChange:function(e){return ce(e.target.value)}}),Object(l.jsxs)("select",{onChange:function(e){return _("true"===e.target.value)},children:[Object(l.jsx)("option",{value:"true",children:"Present"}),Object(l.jsx)("option",{value:"false",children:"Absent"})]}),Object(l.jsx)("div",{style:{padding:10},children:Object(l.jsx)("button",{className:"btn",onClick:function(){ne?fetch("".concat(o.a,"/searchbydate.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({date:ne})}).then((function(e){return e.json()})).then((function(e){"No matches found on Record"!==e?be(e):(be([{StudentName:"No results found",Present:1}]),F(Object(c.a)(Object(c.a)({},z),{},{isOpen:!0,message:e})))})).catch((function(e){console.error(e)})):F(Object(c.a)(Object(c.a)({},z),{},{isOpen:!0,message:"Input All required"}))},children:"Submit"})}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsxs)("b",{style:{color:"#f70084"},children:[" Students present on ",ne]})})})}),je.map((function(e){if(G="1"===e.Present?G+1:G,H="0"===e.Present?H+1:H,e.Present==$)return Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:e.StudentName})})},e.StudentName)})),Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"#f70084"},children:["No of Presents : ",Object(l.jsx)("b",{style:{color:"green"},children:G})]}),Object(l.jsxs)("p",{style:{color:"#f70084"},children:["No of Absents : ",Object(l.jsx)("b",{style:{color:"red"},children:H})]})]})]})]}),Object(l.jsxs)("div",{style:{display:m},children:[Object(l.jsx)("table",{style:{display:"grid",justifyContent:"center"},children:re.map((function(e){if(1==e.Present)return U+=1,Object(l.jsx)("tbody",{style:{backgroundColor:"#ccc"},children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{style:{color:"black",padding:20},children:e.StudentName}),Object(l.jsx)("td",{style:{color:"black",padding:20},children:e.Date})]})},e.StudentName)}))}),Object(l.jsxs)("div",{style:{display:C,margin:10},children:[Oe," was present ",U," ",U>1?"days":"day"," between ",ge+"/"+xe+"/"+ye," to  ",me+"/"+ve+"/"+Se," "]})]})]})}}}]);
//# sourceMappingURL=16.848a1186.chunk.js.map