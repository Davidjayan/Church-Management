(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{609:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="https://admin-management-website.000webhostapp.com/Church-management-api/api"},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(25),c=n(762),s=n(792),i=n(800),r=(n(0),n(614)),o=n.n(r),j=n(2),u=function(e){var t=e.notify,n=e.setNotify;return Object(j.jsx)(c.a,{direction:"down",in:t.isOpen,children:Object(j.jsx)(s.a,{severity:t.severity,variant:t.variant,style:{alignContent:"center",alignItems:"center",fontSize:18,position:"fixed",zIndex:3,marginLeft:"25%"},action:Object(j.jsx)(i.a,{"aria-label":"close",color:"inherit",size:"large",onClick:function(){n(Object(a.a)(Object(a.a)({},t),{},{isOpen:!1}))},children:Object(j.jsx)(o.a,{fontSize:"inherit"})}),sx:{mb:7},points:"0,100 50,00, 100,100",children:t.message})})}},807:function(e,t,n){"use strict";n.r(t);var a=n(25),c=n(69),s=n(0),i=n(609),r=n(610),o=n(789),j=n(2),u=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(s.useState)([]),b=Object(c.a)(l,2),O=b[0],d=b[1],h=Object(s.useState)(),p=Object(c.a)(h,2),f=p[0],m=p[1],x=f?O.filter((function(e){return e.toLowerCase().includes(f.toLocaleLowerCase())})):O,g=Object(s.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),v=Object(c.a)(g,2),y=v[0],N=v[1];return Object(j.jsxs)("div",{className:"newentry",children:[Object(j.jsx)(r.a,{notify:y,setNotify:N}),Object(j.jsx)(o.a,{className:"newentry-in",required:!0,placeholder:"New Student",value:n,onChange:function(e){fetch("".concat(i.a,"/searchname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d(e)})).catch((function(e){console.error(e)}));for(var t=e.target.value.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);var a=t.join(" ");m(a),u(a)},list:"namelist"}),Object(j.jsx)("datalist",{id:"namelist",children:x.map((function(e,t){return Object(j.jsx)("option",{children:e},t)}))}),Object(j.jsx)("button",{className:"btn",onClick:function(){n?fetch("".concat(i.a,"/insertstudentname.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({newname:n})}).then((function(e){return e.json()})).then((function(e){N(Object(a.a)(Object(a.a)({},y),{},{isOpen:!0,message:e})),window.location.reload()})).catch((function(e){console.error(e)})):N(Object(a.a)(Object(a.a)({},y),{},{isOpen:!0,message:"Input All Requried"}))},children:"+Add"})]})};t.default=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(s.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),b=Object(c.a)(l,2),O=b[0],d=b[1],h=Object(s.useState)(),p=Object(c.a)(h,2),f=p[0],m=p[1],x=[],g=Object(s.useState)([]),v=Object(c.a)(g,2),y=v[0],N=v[1],C=new Date,S=C.getDate();"00"===(S=S<10?"0"+S:S)&&(S=31,w-=1);var w=C.getMonth()+1>12?C.getMonth():C.getMonth()+1;w=w<10?"0"+w:w;var k=C.getFullYear();C=k+"-"+w+"-"+S;Object(s.useEffect)((function(){fetch("".concat(i.a,"/getstudentname.php")).then((function(e){return e.json()})).then((function(e){o(e)}),(function(e){d(Object(a.a)(Object(a.a)({},O),{},{isOpen:!0,message:e}))}))}),[]);var A=0,T=n.length;for(A=0;A<T;A++)""!==n[A]&&x.push({name:n[A],present:!1});return Object(s.useEffect)((function(){N(x)}),[n]),Object(j.jsxs)("div",{className:"student-attendance-body",children:[Object(j.jsx)(r.a,{notify:O,setNotify:d}),Object(j.jsx)("input",{className:"inp",type:"date",value:f,onChange:function(e){m(e.target.value)}}),Object(j.jsx)("button",{className:"btn",onClick:function(){return m(C)},children:"Click if today"}),Object(j.jsxs)("p",{children:["Date:",f]}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Present"}),Object(j.jsx)("th",{children:"Absent"})]})}),Object(j.jsx)("tbody",{children:y.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsxs)("label",{className:"container",children:[Object(j.jsx)("input",{onChange:function(t){var n="true"===t.target.value;N((function(t){return t.map((function(t){return t.name===e.name?Object(a.a)(Object(a.a)({},t),{},{present:n}):t}))}))},type:"radio",name:e.name,value:"true"})," ",Object(j.jsx)("span",{className:"fas fa-check present"})," "]})}),Object(j.jsxs)("td",{children:[Object(j.jsxs)("label",{className:"container",children:[Object(j.jsx)("input",{onChange:function(t){var n="false"!==t.target.value;N((function(t){return t.map((function(t){return t.name===e.name?Object(a.a)(Object(a.a)({},t),{},{present:n}):t}))}))},type:"radio",name:e.name,value:"false"})," ",Object(j.jsx)("span",{className:"fas fa-times absent"})]})," "]})]},e.name)}))}),Object(j.jsx)("tfoot",{})]}),Object(j.jsx)("button",{className:"btn",onClick:function(){y?fetch("".concat(i.a,"/student_attendance.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({studentattendance:y,date:f})}).then((function(e){return e.json()})).then((function(e){d(Object(a.a)(Object(a.a)({},O),{},{isOpen:!0,message:e})),window.location.reload()})).catch((function(e){console.error(e)})):d(Object(a.a)(Object(a.a)({},O),{},{isOpen:!0,message:"Input All Required"}))},children:"Submit"}),Object(j.jsx)("div",{children:Object(j.jsx)(u,{})})]})}}}]);
//# sourceMappingURL=18.498cfa2b.chunk.js.map