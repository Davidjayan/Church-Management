(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{609:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var i="https://admin-management-website.000webhostapp.com/Church-management-api/api"},610:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var i=t(25),n=t(762),r=t(792),l=t(800),d=(t(0),t(614)),c=t.n(d),s=t(2),o=function(e){var a=e.notify,t=e.setNotify;return Object(s.jsx)(n.a,{direction:"down",in:a.isOpen,children:Object(s.jsx)(r.a,{severity:a.severity,variant:a.variant,style:{alignContent:"center",alignItems:"center",fontSize:18,position:"fixed",zIndex:3,marginLeft:"25%"},action:Object(s.jsx)(l.a,{"aria-label":"close",color:"inherit",size:"large",onClick:function(){t(Object(i.a)(Object(i.a)({},a),{},{isOpen:!1}))},children:Object(s.jsx)(c.a,{fontSize:"inherit"})}),sx:{mb:7},points:"0,100 50,00, 100,100",children:a.message})})}},808:function(e,a,t){"use strict";t.r(a);var i=t(29),n=t(25),r=t(69),l=t(0),d=t(609),c=t(4),s=t(796),o=t(806),j=t(790),b=t(610),m=t(2),u=function(e){var a=e.data,t=e.familyheads;return Object(m.jsxs)(c.v,{direction:"column",alignItems:"center",justifyItems:"stretch",container:!0,item:!0,validated:e.validated,children:[Object(m.jsx)(b.a,{notify:e.notify,setNotify:e.setNotify}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Family ID"}),Object(m.jsx)(c.x,{style:{width:300,marginRight:15},name:"familyid",value:a.familyid,margin:"dense",variant:"outlined",onChange:function(t){e.setData(Object(n.a)(Object(n.a)({},a),{},{familyid:t.target.value.toUpperCase()}))},placeholder:"Family ID",label:"Family ID",required:!0,invalid:!a.familyid}),Object(m.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Self ID"}),Object(m.jsx)(c.x,{name:"selfid",style:{width:300,marginRight:15},value:a.selfid,margin:"dense",variant:"outlined",onFocus:function(){return e.setData(Object(n.a)(Object(n.a)({},a),{},{selfid:a.familyid.slice(3)}))},placeholder:"Self ID",label:"Self ID",required:!0,readOnly:!0,invalid:!a.selfid}),Object(m.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(m.jsxs)(c.m,{children:[Object(m.jsx)(c.y,{children:"Name"}),Object(m.jsx)(c.x,{name:"name",value:a.name,style:{width:300,marginRight:15},margin:"dense",variant:"outlined",onChange:function(t){for(var i=t.target.value.split(" "),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(" ").replace(/[^a-zA-Z ]/g,"");e.setData(Object(n.a)(Object(n.a)({},a),{},{name:l}))},placeholder:"Enter Name",label:"Enter Name",required:!0}),Object(m.jsx)(c.w,{invalid:!0,children:"Please fill this field"})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Date Of Birth"}),Object(m.jsx)(c.x,{type:"date",style:{width:300,marginRight:15},value:a.dob,onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{dob:t.target.value}))},label:"Enter DOB",required:!0,invalid:!a.dob}),Object(m.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Gender"}),Object(m.jsxs)(s.a,{row:!0,"aria-label":"gender",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(m.jsx)(o.a,{value:"male",name:"gender",label:"Male",control:Object(m.jsx)(j.a,{}),onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{gender:t.target.value}))}}),Object(m.jsx)(o.a,{value:"female",name:"gender",label:"Female",control:Object(m.jsx)(j.a,{}),onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{gender:t.target.value}))}})]})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Martial status"}),Object(m.jsxs)(s.a,{row:!0,"aria-label":"martial-status",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(m.jsx)(o.a,{value:!0,label:"Married",control:Object(m.jsx)(j.a,{}),onChange:function(t){e.setData(Object(n.a)(Object(n.a)({},a),{},{married:"true"==t.target.value}))}}),Object(m.jsx)(o.a,{value:!1,control:Object(m.jsx)(j.a,{}),label:"Unmarried",onChange:function(t){e.setData(Object(n.a)(Object(n.a)({},a),{},{married:"true"==t.target.value}))}})]})]}),Object(m.jsxs)(c.m,{md:4,style:{display:!0===a.married?"block":"none",width:300,marginRight:15},children:[Object(m.jsx)(c.y,{children:"Wedding Date"}),Object(m.jsx)(c.x,{type:"date",label:"Wedding Date",margin:"dense",variant:"outlined",value:a.weddingdate,onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{weddingdate:t.target.value}))}})]}),Object(m.jsxs)(c.m,{children:[Object(m.jsx)(c.y,{children:"Email"}),Object(m.jsx)(c.x,{name:"emailid",placeholder:"Enter Emailid",margin:"dense",label:"Email ID",style:{width:300,marginRight:15},variant:"outlined",onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{emailid:t.target.value}))},value:a.emailid,invalid:!(!a.emailid||a.emailid.includes("@")&&a.emailid.includes(".com"))}),Object(m.jsx)(c.w,{invalid:!0,children:"Please input valid email address"})]}),Object(m.jsxs)(c.m,{children:[Object(m.jsx)(c.y,{children:"Mobile"}),Object(m.jsx)(c.x,{name:"mobile",style:{width:300,marginRight:15},label:"Mobile",placeholder:"Enter mobile number",margin:"dense",variant:"outlined",value:a.mobile,onChange:function(t){var i=t.target.value.replace(/[^0-9]/g,"");e.setData(Object(n.a)(Object(n.a)({},a),{},{mobile:i.slice(0,10)}))},required:!0,invalid:10!==a.mobile.length}),Object(m.jsx)(c.w,{invalid:!0,children:"Enter valid number"})]}),Object(m.jsxs)(c.m,{children:[Object(m.jsx)(c.y,{children:"Address"}),Object(m.jsx)(c.z,{name:"address",label:"Address",placeholder:"Enter address",style:{width:300,marginRight:15},margin:"dense",variant:"outlined",value:a.address,onChange:function(t){for(var i=t.target.value.split(","),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(",");e.setData(Object(n.a)(Object(n.a)({},a),{},{address:l}))},required:!0,invalid:!a.address}),Object(m.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Family head"}),Object(m.jsx)(c.x,{name:"familyhead",value:a.familyhead,margin:"dense",placeholder:"Enter family head",variant:"outlined",label:"Family Head",onChange:function(t){for(var i=t.target.value.split(" "),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(" ");e.setData(Object(n.a)(Object(n.a)({},a),{},{familyhead:l}))},required:!0,invalid:!a.familyhead,list:"listforfamilyheads"}),Object(m.jsx)("datalist",{id:"listforfamilyheads",children:t.map((function(e,a){return Object(m.jsx)("option",{children:e},a)}))}),Object(m.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Baptism"}),Object(m.jsxs)(s.a,{row:!0,"aria-label":"Baptizm",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(m.jsx)(o.a,{control:Object(m.jsx)(j.a,{}),value:!0,label:"Baptized",onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{baptized:"true"==t.target.value}))}}),Object(m.jsx)(o.a,{value:!1,control:Object(m.jsx)(j.a,{}),label:"Not Baptized",onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{baptized:"true"==t.target.value}))}})]})]}),Object(m.jsxs)(c.m,{md:4,children:[Object(m.jsx)(c.y,{children:"Mobile type"}),Object(m.jsxs)(s.a,{row:!0,"aria-label":"mobile-type",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(m.jsx)(o.a,{label:"Android",value:!0,control:Object(m.jsx)(j.a,{}),onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{android:"true"==t.target.value}))}}),Object(m.jsx)(o.a,{label:"Normal",value:!1,control:Object(m.jsx)(j.a,{}),onChange:function(t){return e.setData(Object(n.a)(Object(n.a)({},a),{},{android:"true"==t.target.value}))}})]})]}),Object(m.jsx)(c.e,{onClick:e.handleSubmit,children:"Add to records"})]})};a.default=function(){var e,a=Object(l.useState)([]),t=Object(r.a)(a,2),c=t[0],s=t[1],o=Object(l.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),j=Object(r.a)(o,2),b=j[0],h=j[1],O=Object(l.useState)({name:"",dob:"",gender:"male",weddingdate:"",emailid:"",mobile:"",address:"",familyhead:"",familyid:"",selfid:"",android:!1,baptized:!1,married:!1}),f=Object(r.a)(O,2),g=f[0],v=f[1];Object(l.useEffect)((function(){e=parseInt(parseInt(((new Date).getTime()-new Date(g.dob).getTime())/31536e6).toString().replace("-","")),console.log(e)}),[g.dob]);var p=Object(l.useState)(!1),y=Object(r.a)(p,2),x=y[0],w=y[1],D=function(){if(x){var a=g.familyid,t=g.selfid,i=g.name,r=g.dob,l=e,c=g.gender,s=0==g.married?0:g.married,o=g.weddingdate,j=g.emailid,m=g.mobile,u=g.address,O=g.familyhead,f=0==g.baptized?0:g.baptized,p=0==g.android?0:g.android;fetch("".concat(d.a,"/member_details.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i,dob:r,age:l,gender:c,married:s,weddingdate:o,emailid:j,mobile:m,address:u,familyhead:O,baptized:f,android:p,familyid:a,selfid:t})}).then((function(e){return e.json()})).then((function(e){h(Object(n.a)(Object(n.a)({},b),{},{isOpen:!0,severity:1==e.status?"success":"error",message:String(e.message)})),v({name:"",dob:new Date,gender:"male",weddingdate:"",emailid:"",mobile:"",address:"",familyhead:"",familyid:"",selfid:"",android:!1,baptized:!1,married:!1})})).catch((function(e){console.error(e)}))}else h(Object(n.a)(Object(n.a)({},b),{},{isOpen:!0,message:"Input all required"}))};return Object(l.useEffect)((function(){fetch("".concat(d.a,"/searchfamilyhead.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var a=Object(i.a)(new Set(e));s(a)})).catch((function(e){console.error(e)}))}),[]),Object(m.jsx)(u,{familyheads:c,data:g,notify:b,setNotify:h,setData:v,validated:x,handleSubmit:function(e){0==e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(w(!0),D())}})}}}]);
//# sourceMappingURL=14.442653af.chunk.js.map