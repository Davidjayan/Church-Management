(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{609:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i="https://admin-management-website.000webhostapp.com/Church-management-api/api"},610:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(25),n=a(762),r=a(792),l=a(800),d=(a(0),a(614)),c=a.n(d),s=a(2),o=function(e){var t=e.notify,a=e.setNotify;return Object(s.jsx)(n.a,{direction:"down",in:t.isOpen,children:Object(s.jsx)(r.a,{severity:t.severity,variant:t.variant,style:{alignContent:"center",alignItems:"center",fontSize:18,position:"fixed",zIndex:3,marginLeft:"25%"},action:Object(s.jsx)(l.a,{"aria-label":"close",color:"inherit",size:"large",onClick:function(){a(Object(i.a)(Object(i.a)({},t),{},{isOpen:!1}))},children:Object(s.jsx)(c.a,{fontSize:"inherit"})}),sx:{mb:7},points:"0,100 50,00, 100,100",children:t.message})})}},808:function(e,t,a){"use strict";a.r(t);var i=a(29),n=a(25),r=a(69),l=a(0),d=a(609),c=a(4),s=a(796),o=a(806),j=a(790),b=a(610),u=a(2),m=function(e){var t=e.data,a=e.familyheads;return Object(u.jsxs)(c.v,{direction:"column",alignItems:"center",justifyItems:"stretch",container:!0,item:!0,validated:e.validated,children:[Object(u.jsx)(b.a,{notify:e.notify,setNotify:e.setNotify}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Family ID"}),Object(u.jsx)(c.x,{style:{width:300,marginRight:15},name:"familyid",value:t.familyid,margin:"dense",variant:"outlined",onChange:function(a){e.setData(Object(n.a)(Object(n.a)({},t),{},{familyid:a.target.value.toUpperCase()}))},placeholder:"Family ID",label:"Family ID",required:!0,invalid:!t.familyid}),Object(u.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Self ID"}),Object(u.jsx)(c.x,{name:"selfid",style:{width:300,marginRight:15},value:t.selfid,margin:"dense",variant:"outlined",onFocus:function(){return e.setData(Object(n.a)(Object(n.a)({},t),{},{selfid:t.familyid.slice(3)}))},placeholder:"Self ID",label:"Self ID",required:!0,readOnly:!0,invalid:!t.selfid}),Object(u.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(u.jsxs)(c.m,{children:[Object(u.jsx)(c.y,{children:"Name"}),Object(u.jsx)(c.x,{name:"name",value:t.name,style:{width:300,marginRight:15},margin:"dense",variant:"outlined",onChange:function(a){for(var i=a.target.value.split(" "),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(" ").replace(/[^a-zA-Z ]/g,"");e.setData(Object(n.a)(Object(n.a)({},t),{},{name:l}))},placeholder:"Enter Name",label:"Enter Name",required:!0}),Object(u.jsx)(c.w,{invalid:!0,children:"Please fill this field"})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Date Of Birth"}),Object(u.jsx)(c.x,{type:"date",style:{width:300,marginRight:15},value:t.dob,onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{dob:a.target.value}))},label:"Enter DOB",required:!0,invalid:!t.dob}),Object(u.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Gender"}),Object(u.jsxs)(s.a,{row:!0,"aria-label":"gender",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(u.jsx)(o.a,{value:"male",name:"gender",label:"Male",control:Object(u.jsx)(j.a,{}),onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{gender:a.target.value}))}}),Object(u.jsx)(o.a,{value:"female",name:"gender",label:"Female",control:Object(u.jsx)(j.a,{}),onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{gender:a.target.value}))}})]})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Martial status"}),Object(u.jsxs)(s.a,{row:!0,"aria-label":"martial-status",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(u.jsx)(o.a,{value:!0,label:"Married",control:Object(u.jsx)(j.a,{}),onChange:function(a){e.setData(Object(n.a)(Object(n.a)({},t),{},{married:"true"==a.target.value}))}}),Object(u.jsx)(o.a,{value:!1,control:Object(u.jsx)(j.a,{}),label:"Unmarried",onChange:function(a){e.setData(Object(n.a)(Object(n.a)({},t),{},{married:"true"==a.target.value}))}})]})]}),Object(u.jsxs)(c.m,{md:4,style:{display:!0===t.married?"block":"none",width:300,marginRight:15},children:[Object(u.jsx)(c.y,{children:"Wedding Date"}),Object(u.jsx)(c.x,{type:"date",label:"Wedding Date",margin:"dense",variant:"outlined",value:t.weddingdate,onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{weddingdate:a.target.value}))}})]}),Object(u.jsxs)(c.m,{children:[Object(u.jsx)(c.y,{children:"Email"}),Object(u.jsx)(c.x,{name:"emailid",placeholder:"Enter Emailid",margin:"dense",label:"Email ID",style:{width:300,marginRight:15},variant:"outlined",onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{emailid:a.target.value}))},value:t.emailid,invalid:!(!t.emailid||t.emailid.includes("@")&&t.emailid.includes(".com"))}),Object(u.jsx)(c.w,{invalid:!0,children:"Please input valid email address"})]}),Object(u.jsxs)(c.m,{children:[Object(u.jsx)(c.y,{children:"Mobile"}),Object(u.jsx)(c.x,{name:"mobile",style:{width:300,marginRight:15},label:"Mobile",placeholder:"Enter mobile number",margin:"dense",variant:"outlined",value:t.mobile,onChange:function(a){var i=a.target.value.replace(/[^0-9]/g,"");e.setData(Object(n.a)(Object(n.a)({},t),{},{mobile:i.slice(0,10)}))},required:!0,invalid:10!==t.mobile.length}),Object(u.jsx)(c.w,{invalid:!0,children:"Enter valid number"})]}),Object(u.jsxs)(c.m,{children:[Object(u.jsx)(c.y,{children:"Address"}),Object(u.jsx)(c.z,{name:"address",label:"Address",placeholder:"Enter address",style:{width:300,marginRight:15},margin:"dense",variant:"outlined",value:t.address,onChange:function(a){for(var i=a.target.value.split(","),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(",");e.setData(Object(n.a)(Object(n.a)({},t),{},{address:l}))},required:!0,invalid:!t.address}),Object(u.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Family head"}),Object(u.jsx)(c.x,{name:"familyhead",value:t.familyhead,margin:"dense",placeholder:"Enter family head",variant:"outlined",label:"Family Head",onChange:function(a){for(var i=a.target.value.split(" "),r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].substring(1);var l=i.join(" ");e.setData(Object(n.a)(Object(n.a)({},t),{},{familyhead:l}))},required:!0,invalid:!t.familyhead,list:"listforfamilyheads"}),Object(u.jsx)("datalist",{id:"listforfamilyheads",children:a.map((function(e,t){return Object(u.jsx)("option",{children:e},t)}))}),Object(u.jsx)(c.w,{invalid:!0,children:"Field is required"})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Baptism"}),Object(u.jsxs)(s.a,{row:!0,"aria-label":"Baptizm",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(u.jsx)(o.a,{control:Object(u.jsx)(j.a,{}),value:!0,label:"Baptized",onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{baptized:"true"==a.target.value}))}}),Object(u.jsx)(o.a,{value:!1,control:Object(u.jsx)(j.a,{}),label:"Not Baptized",onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{baptized:"true"==a.target.value}))}})]})]}),Object(u.jsxs)(c.m,{md:4,children:[Object(u.jsx)(c.y,{children:"Mobile type"}),Object(u.jsxs)(s.a,{row:!0,"aria-label":"mobile-type",name:"row-radio-buttons-group",style:{width:300,justifyContent:"space-evenly"},children:[Object(u.jsx)(o.a,{label:"Android",value:!0,control:Object(u.jsx)(j.a,{}),onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{android:"true"==a.target.value}))}}),Object(u.jsx)(o.a,{label:"Normal",value:!1,control:Object(u.jsx)(j.a,{}),onChange:function(a){return e.setData(Object(n.a)(Object(n.a)({},t),{},{android:"true"==a.target.value}))}})]})]}),Object(u.jsx)(c.e,{onClick:e.handleSubmit,children:"Add to records"})]})};t.default=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(l.useState)({isOpen:!1,message:"",variant:"filled",severity:"error"}),o=Object(r.a)(s,2),j=o[0],b=o[1],h=Object(l.useState)(!0),O=Object(r.a)(h,2),f=(O[0],O[1],Object(l.useState)()),g=Object(r.a)(f,2),v=g[0],p=g[1],y=Object(l.useState)({name:"",dob:"",gender:"male",weddingdate:"",emailid:"",mobile:"",address:"",familyhead:"",familyid:"",selfid:"",android:!1,baptized:!1,married:!1}),x=Object(r.a)(y,2),w=x[0],D=x[1];Object(l.useEffect)((function(){p(String(parseInt(((new Date).getTime()-new Date(w.dob).getTime())/31536e6).toString().replace("-",""))),console.log(v)}),[w.dob]);var C=Object(l.useState)(),S=Object(r.a)(C,2),z=S[0],E=S[1];Object(l.useEffect)((function(){!function(){if(z){var e=w.familyid,t=w.selfid,a=w.name,i=w.dob,r=v,l=w.gender,c=0==w.married?0:w.married,s=w.weddingdate,o=w.emailid,u=w.mobile,m=w.address,h=w.familyhead,O=0==w.baptized?0:w.baptized,f=0==w.android?0:w.android;fetch("".concat(d.a,"/member_details.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a,dob:i,age:r,gender:l,married:c,weddingdate:s,emailid:o,mobile:u,address:m,familyhead:h,baptized:O,android:f,familyid:e,selfid:t})}).then((function(e){return e.json()})).then((function(e){b(Object(n.a)(Object(n.a)({},j),{},{isOpen:!0,severity:1==e.status?"success":"error",message:String(e.message)})),D({name:"",dob:new Date,gender:"male",weddingdate:"",emailid:"",mobile:"",address:"",familyhead:"",familyid:"",selfid:"",android:!1,baptized:!1,married:!1})})).catch((function(e){console.error(e)}))}else b(Object(n.a)(Object(n.a)({},j),{},{isOpen:!0,message:"Input all required"}))}()}),[z]);return Object(l.useEffect)((function(){fetch("".concat(d.a,"/searchfamilyhead.php"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=Object(i.a)(new Set(e));c(t)})).catch((function(e){console.error(e)}))}),[]),Object(u.jsx)(m,{familyheads:a,data:w,notify:j,setNotify:b,setData:D,validated:z,handleSubmit:function(e){0==e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):E(!0)}})}}}]);
//# sourceMappingURL=14.5303b2f3.chunk.js.map