{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/mydev/Church-Management/src/Components/Sub Components/newstudententry.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { url } from \"../../Constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Newstudententry = () => {\n  _s();\n\n  const [newname, setnewname] = useState('');\n  const [names, setnames] = useState([]);\n  const [searchterm, setsearchterm] = useState();\n  const results = !searchterm ? names : names.filter(person => person.toLowerCase().includes(searchterm.toLocaleLowerCase()));\n\n  const submit = () => {\n    if (newname) {\n      fetch(`${url}/jehovanissi/backend/apis/insertstudentname.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          newname: newname\n        })\n      }).then(res => res.json()).then(result => {\n        alert(result);\n        window.location.reload();\n      }).catch(error => {\n        console.error(error);\n      });\n    } else {\n      alert(\"Input Required\");\n    }\n  };\n\n  const searchapi = () => {\n    fetch(`${url}/jehovanissi/backend/apis/searchname.php`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(result => {\n      setnames(result);\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"newentry\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"newentry-in\",\n      required: true,\n      placeholder: \"New Student\",\n      value: newname,\n      onChange: event => {\n        searchapi();\n        const str1 = event.target.value.split(' ');\n\n        for (let j = 0; j < str1.length; j++) {\n          str1[j] = str1[j].charAt(0).toUpperCase() + str1[j].substring(1);\n        }\n\n        const newstr = str1.join(' ');\n        setsearchterm(newstr);\n        setnewname(newstr);\n      },\n      list: \"namelist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n      id: \"namelist\",\n      children: results.map(k => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          children: k\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 39\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        submit();\n      },\n      children: \"+Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Newstudententry, \"XfU2gwz3eZNFgfPDMJt9M/dXmwE=\");\n\n_c = Newstudententry;\nexport default Newstudententry;\n\nvar _c;\n\n$RefreshReg$(_c, \"Newstudententry\");","map":{"version":3,"sources":["/home/david/Desktop/mydev/Church-Management/src/Components/Sub Components/newstudententry.js"],"names":["React","useState","url","Newstudententry","newname","setnewname","names","setnames","searchterm","setsearchterm","results","filter","person","toLowerCase","includes","toLocaleLowerCase","submit","fetch","method","headers","body","JSON","stringify","then","res","json","result","alert","window","location","reload","catch","error","console","searchapi","event","str1","target","value","split","j","length","charAt","toUpperCase","substring","newstr","join","map","k"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { url } from \"../../Constants\";\n\nconst Newstudententry = () =>{\n    const [newname,setnewname]=useState('');\n    const [names,setnames] = useState([]);\n    const [searchterm,setsearchterm]=useState();\n    const results = !searchterm?names:names.filter(person=>person.toLowerCase().includes(searchterm.toLocaleLowerCase()));\n    \n\n    const submit = () =>{\n        if(newname){\n        fetch(`${url}/jehovanissi/backend/apis/insertstudentname.php`,{\n            method:'POST',\n            headers:{\n              'Accept' : 'application/json', \n              'Content-Type' : 'application/json',\n              \n            },\n            body:JSON.stringify({\n              newname:newname\n              \n            })\n          })\n            .then(res => res.json())\n            .then((result) => {\n                  alert(result);\n                  window.location.reload();\n              }).catch((error)=>{\n                console.error(error);\n              });\n\n            \n\n            }\n            else{\n                alert(\"Input Required\");\n            }\n    }   \n    const searchapi = () =>{\n      fetch(`${url}/jehovanissi/backend/apis/searchname.php`,{\n          method:'POST',\n          headers:{\n            'Accept' : 'application/json', \n            'Content-Type' : 'application/json',\n            \n          },\n        })\n          .then(res => res.json())\n          .then((result) => {\n                setnames(result);\n            }).catch((error)=>{\n              console.error(error);\n            });\n      }\n\n    return(\n        <div className=\"newentry\">\n        <input className=\"newentry-in\"\n        required\n        placeholder=\"New Student\"\n          value={newname}\n          onChange={(event)=>{\n            searchapi();\n            const str1 = event.target.value.split(' ');\n            for (let j = 0;j<str1.length;j++){\n\n              str1[j]=str1[j].charAt(0).toUpperCase()+str1[j].substring(1);\n            }\n            const newstr = str1.join(' ');\n            setsearchterm(newstr); \n            setnewname(newstr);\n            \n          }}\n          list=\"namelist\"\n          ></input>\n          <datalist id=\"namelist\">\n                              {results.map((k)=>{\n                                  return(\n                                      <option>{k}</option>\n                                  )\n                              })}  \n                      </datalist>\n          \n          \n          <button className=\"btn\" onClick={()=>{submit()}}>+Add</button>\n          </div>\n    )\n}\n\nexport default Newstudententry;"]},"metadata":{},"sourceType":"module"}