{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/mydev/Church-Management/src/Components/Sub Components/Getstudentattendance.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport '../../assets/Getstudentattendance.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Getstudentattendance = () => {\n  _s();\n\n  const [firstField, setfirstField] = useState();\n  const [display1, setdisplay1] = useState(\"none\");\n  const [display2, setdisplay2] = useState(\"none\");\n  const [display3, setdisplay3] = useState(\"none\");\n  const [display4, setdisplay4] = useState(\"none\");\n  const [fromdate, setfromdate] = useState();\n  const [todate, settodate] = useState();\n  const [namelist, setnamelist] = useState([]);\n  let count = 0;\n  let presentcount = 0;\n  let absentcount = 0;\n  let today = new Date();\n  let dd = today.getDate();\n  dd = dd < 10 ? \"0\" + dd : dd;\n\n  if (dd === \"00\") {\n    dd = 31;\n    mm = mm - 1;\n  }\n\n  let mm = today.getMonth() + 1 > 12 ? today.getMonth() : today.getMonth() + 1;\n  mm = mm < 10 ? \"0\" + mm : mm;\n  let yyyy = today.getFullYear();\n  today = yyyy + \"-\" + mm + \"-\" + dd;\n  const [present1, isPresent1] = useState(true);\n  const [date, setdate] = useState(today);\n  const [obj, setobj] = useState([]);\n  const [obj1, setobj1] = useState([]);\n  const [name, setname] = useState();\n  let from = new Date(fromdate);\n  let to = new Date(todate);\n  let fromdd = from.getDate();\n  fromdd = fromdd < 10 ? \"0\" + fromdd : fromdd;\n\n  if (fromdd === \"00\") {\n    fromdd = 31;\n    frommm = frommm - 1;\n  }\n\n  let frommm = from.getMonth() + 1 > 12 ? from.getMonth() : from.getMonth() + 1;\n  frommm = frommm < 10 ? \"0\" + frommm : frommm;\n  let fromyy = from.getFullYear();\n  let todd = to.getDate();\n  todd = todd < 10 ? \"0\" + todd : todd;\n\n  if (todd === \"00\") {\n    todd = 31;\n    tomm = tomm - 1;\n  }\n\n  let tomm = to.getMonth() + 1 > 12 ? to.getMonth() : to.getMonth() + 1;\n  tomm = tomm < 10 ? \"0\" + tomm : tomm;\n  let toyy = to.getFullYear();\n\n  const submit1 = () => {\n    if (date) {\n      fetch(`${url}/jehovanissi/backend/apis/searchbydate.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          date: date\n        })\n      }).then(res => res.json()).then(result => {\n        if (result !== \"No matches found on Record\") {\n          setobj1(result);\n        } else {\n          setobj1([{\n            \"StudentName\": \"No results found\",\n            \"Present\": 1\n          }]);\n          alert(result);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    } else {\n      alert(\"Input all required\");\n    }\n  };\n\n  const submit = () => {\n    if (fromdate && todate && name) {\n      fetch(`${url}/jehovanissi/backend/apis/searchbystudentname.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          fromdate: fromdate,\n          todate: todate\n        })\n      }).then(res => res.json()).then(result => {\n        if (result !== \"No matches found on Record\") {\n          setobj(result);\n          setdisplay3(\"block\");\n          setdisplay4(\"block\");\n        } else {\n          alert(result);\n          setdisplay3(\"none\");\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    } else {\n      alert(\"Input all required\");\n    }\n  };\n\n  const searchapi = () => {\n    fetch(`${url}/jehovanissi/backend/apis/searchstudentname.php`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(result => {\n      setnamelist(result);\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"get-student-att-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Search By:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: firstField,\n      onChange: event => {\n        setfirstField(event.target.value);\n        setdisplay1(event.target.value === \"Name\" ? \"block\" : \"none\");\n        setdisplay2(event.target.value === \"Date\" ? \"block\" : \"none\");\n        setdisplay3(event.target.value === \"Date\" ? \"none\" : \"block\");\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Date\",\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: display1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        list: \"namelist\",\n        placeholder: \"Enter Name\",\n        value: name,\n        onChange: event => {\n          const str = event.target.value.split(' ');\n\n          for (let i = 0; i < str.length; i++) {\n            str[i] = str[i].charAt(0).toUpperCase() + str[i].substring(1);\n          }\n\n          const Name = str.join(' ');\n          setname(Name);\n          searchapi();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        style: {\n          backgroundColor: \"black\"\n        },\n        id: \"namelist\",\n        children: namelist.map(k => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            children: k\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"From:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: event => {\n          setfromdate(event.target.valueAsDate);\n        },\n        type: \"date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"To:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: event => {\n          settodate(event.target.valueAsDate);\n        },\n        type: \"date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          margin: 10\n        },\n        className: \"btn\",\n        onClick: () => submit(),\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: display2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        onChange: event => setdate(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: event => isPresent1(event.target.value === \"true\" ? true : false),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"true\",\n          children: \"Present\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"false\",\n          children: \"Absent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => submit1(),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                style: {\n                  color: \"#f70084\"\n                },\n                children: [\" Students present on \", date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 33\n        }, this), obj1.map(p => {\n          presentcount = p.Present === \"1\" ? presentcount + 1 : presentcount;\n          absentcount = p.Present === \"0\" ? absentcount + 1 : absentcount;\n\n          if (p.Present == present1) {\n            return /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: p.StudentName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 37\n              }, this)\n            }, p.StudentName, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this);\n          } else {}\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#f70084\"\n            },\n            children: [\"No of Presents : \", /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                color: \"green\"\n              },\n              children: presentcount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#f70084\"\n            },\n            children: [\"No of Absents : \", /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                color: \"red\"\n              },\n              children: absentcount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 69\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: display3\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          display: \"grid\",\n          justifyContent: \"center\"\n        },\n        children: obj.map(p => {\n          if (p.Present == 1) {\n            count = count + 1;\n            return /*#__PURE__*/_jsxDEV(\"tbody\", {\n              style: {\n                backgroundColor: \"#ccc\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    color: \"black\",\n                    padding: 20\n                  },\n                  children: p.StudentName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    color: \"black\",\n                    padding: 20\n                  },\n                  children: p.Date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 28\n              }, this)\n            }, p.StudentName, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 28\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: display4,\n          margin: 10\n        },\n        children: [name, \" was present \", count, \" \", count > 1 ? \"days\" : \"day\", \" between \", fromdd + \"/\" + frommm + \"/\" + fromyy, \" to  \", todd + \"/\" + tomm + \"/\" + toyy, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Getstudentattendance, \"XPSI2F+mCiRBv2D0Qawg3EJoVbk=\");\n\n_c = Getstudentattendance;\nexport default Getstudentattendance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Getstudentattendance\");","map":{"version":3,"sources":["/home/david/Desktop/mydev/Church-Management/src/Components/Sub Components/Getstudentattendance.js"],"names":["React","useState","Getstudentattendance","firstField","setfirstField","display1","setdisplay1","display2","setdisplay2","display3","setdisplay3","display4","setdisplay4","fromdate","setfromdate","todate","settodate","namelist","setnamelist","count","presentcount","absentcount","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","present1","isPresent1","date","setdate","obj","setobj","obj1","setobj1","name","setname","from","to","fromdd","frommm","fromyy","todd","tomm","toyy","submit1","fetch","url","method","headers","body","JSON","stringify","then","res","json","result","alert","catch","error","console","submit","searchapi","event","target","value","display","str","split","i","length","charAt","toUpperCase","substring","Name","join","backgroundColor","map","k","valueAsDate","margin","padding","color","p","Present","StudentName","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport '../../assets/Getstudentattendance.css';\n\nconst Getstudentattendance = () =>{\n    const [firstField,setfirstField]=useState();\n    const [display1,setdisplay1]=useState(\"none\");\n    const [display2,setdisplay2]=useState(\"none\");\n    const [display3,setdisplay3]=useState(\"none\");\n    const [display4,setdisplay4]=useState(\"none\");\n    const [fromdate,setfromdate]=useState();\n    const [todate,settodate]= useState();\n    const [namelist,setnamelist]=useState([]);\n\n    let count= 0;\n\n    let presentcount = 0;    \n    let absentcount = 0;\n    let today = new Date();\n\n    let dd = today.getDate();\n    dd = dd<10?\"0\"+dd:dd;\n    if(dd===\"00\"){\n      dd=31;\n      mm=mm-1;\n  } \n\n    let mm = (today.getMonth()+1)>12?today.getMonth():today.getMonth()+1;\n    mm = mm<10?\"0\"+mm:mm;\n    let yyyy = today.getFullYear();\n\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n    \n    const [present1,isPresent1]=useState(true);\n    const [date,setdate]=useState(today);\n    const [obj,setobj]=useState([]);\n    const [obj1,setobj1]=useState([]);\n\n    const [name,setname] = useState();\n\n    let from = new Date(fromdate);\n    let to = new Date(todate);\n    \n    let fromdd = from.getDate();\n    fromdd = fromdd<10?\"0\"+fromdd:fromdd;\n    if(fromdd===\"00\"){\n      fromdd=31;\n      frommm=frommm-1;\n  } \n\n    let frommm = (from.getMonth()+1)>12?from.getMonth():from.getMonth()+1;\n    frommm = frommm<10?\"0\"+frommm:frommm;\n    let fromyy = from.getFullYear();\n\n    let todd = to.getDate();\n    todd = todd<10?\"0\"+todd:todd;\n    if(todd===\"00\"){\n      todd=31;\n      tomm=tomm-1;\n  } \n\n    let tomm = (to.getMonth()+1)>12?to.getMonth():to.getMonth()+1;\n    tomm = tomm<10?\"0\"+tomm:tomm;\n    let toyy = to.getFullYear();\n    \n    const submit1 = () =>{\n        if(date){\n            fetch(`${url}/jehovanissi/backend/apis/searchbydate.php`,{\n            method:'POST',\n            headers:{\n              'Accept' : 'application/json', \n              'Content-Type' : 'application/json',\n              \n            },\n            body:JSON.stringify({\n                date:date\n              \n            })\n          })\n            .then(res => res.json())\n            .then((result) => {\n                if(result!==\"No matches found on Record\"){\n               setobj1(result);\n              \n                }\n                else{\n                    setobj1([{\"StudentName\":\"No results found\",\"Present\":1}]);\n                    alert(result);\n                   \n                   \n                }\n              }).catch((error)=>{\n                console.error(error);\n              });\n\n        }   \n            \n        \n        else{\n            \n            alert(\"Input all required\");\n    }\n    }\n\n    const submit = () =>{\n        if(fromdate&&todate&&name){\n            fetch(`${url}/jehovanissi/backend/apis/searchbystudentname.php`,{\n            method:'POST',\n            headers:{\n              'Accept' : 'application/json', \n              'Content-Type' : 'application/json',\n              \n            },\n            body:JSON.stringify({\n                name :name,\n                fromdate:fromdate,\n                todate:todate\n              \n            })\n          })\n            .then(res => res.json())\n            .then((result) => {\n                if(result!==\"No matches found on Record\"){\n               setobj(result);\n               setdisplay3(\"block\");\n               setdisplay4(\"block\");\n                }\n                else{\n                    alert(result);\n                    setdisplay3(\"none\");\n                }\n              }).catch((error)=>{\n                console.error(error);\n              });\n\n        }   \n            \n        \n        else{\n            alert(\"Input all required\");\n    }\n    }\n    \n\n    const searchapi = () =>{\n        fetch(`${url}/jehovanissi/backend/apis/searchstudentname.php`,{\n            method:'POST',\n            headers:{\n              'Accept' : 'application/json', \n              'Content-Type' : 'application/json',\n              \n            },\n          })\n            .then(res => res.json())\n            .then((result) => {\n                  setnamelist(result);\n              }).catch((error)=>{\n                console.error(error);\n              });\n    }\n\n    return(\n        \n            <div className=\"get-student-att-body\" > \n                <p>Search By:</p>\n                <select value={firstField} onChange={(event)=>{setfirstField(event.target.value);\n                setdisplay1(event.target.value===\"Name\"?\"block\":\"none\");\n                setdisplay2(event.target.value===\"Date\"?\"block\":\"none\");\n                setdisplay3(event.target.value===\"Date\"?\"none\":\"block\");\n                }} >\n                    <option>Select</option>\n                    <option  value=\"Name\" >Name</option>\n                    <option value=\"Date\" >Date</option>\n                </select>\n                <div style={{display:display1}}>\n                    <input list=\"namelist\" placeholder=\"Enter Name\" value={name} onChange={(event)=>{\n                        const str = event.target.value.split(' ');\n                        for (let i = 0;i<str.length;i++){\n\n                          str[i]=str[i].charAt(0).toUpperCase()+str[i].substring(1);\n                        }\n                        \n                       const Name = str.join(' ');\n                       \n                        setname(Name);searchapi();}} ></input>\n                    <datalist style={{backgroundColor:\"black\"}} id=\"namelist\">\n                        {namelist.map((k)=>{\n                            return(\n                                <option>{k}</option>\n                            )\n                        })}\n                    </datalist>\n                    <p>From:</p><input  onChange={(event)=>{setfromdate(event.target.valueAsDate);}} type=\"date\" ></input>\n                    <p>To:</p><input   onChange={(event)=>{settodate(event.target.valueAsDate);}} type=\"date\" ></input>\n                   \n                   \n                    <button  style={{margin:10}}   className=\"btn\" onClick={()=>submit()} >Submit</button>\n                </div>\n                <div style={{display:display2}}>\n\n                    <input type=\"date\" onChange={(event)=>setdate(event.target.value)}></input>\n                        \n                    <select onChange={(event)=>isPresent1(event.target.value===\"true\"?true:false)}>\n                        <option value=\"true\" >Present</option>\n                        <option value=\"false\" >Absent</option>\n                    </select>\n                    <div style={{padding:10}}>\n                    <button  className=\"btn\" onClick={()=>submit1()} >Submit</button></div>\n                    <table>\n                                <thead>\n                                    <tr>\n                                        <td>\n                                           <b style={{color:\"#f70084\"}}> Students present on {date}</b>\n                                        </td>\n                                        \n                                    </tr>\n                                </thead>\n\n                    {obj1.map((p)=>{\n                        presentcount = p.Present===\"1\"?presentcount+1:presentcount;\n                        absentcount = p.Present===\"0\"?absentcount+1:absentcount;\n                        if(p.Present==present1){\n                            \n                        return(\n                            \n                                <tbody key={p.StudentName} >\n                                    <tr>\n                                        <td>\n                                            {p.StudentName}\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            \n                        )\n                        }\n                        else{\n                            \n                        }\n                    \n                    \n                        \n                    })}\n                    <div>\n                       <p style={{color:\"#f70084\"}}>No of Presents : <b style={{color:\"green\"}}>{presentcount}</b></p>\n                       <p style={{color:\"#f70084\"}}>No of Absents : <b  style={{color:\"red\"}}>{absentcount}</b></p>\n                   </div>\n                    </table>\n                    \n                    \n                </div>\n                <div style={{display:display3}}>\n                    <table style={{display:\"grid\",justifyContent:\"center\"}}>\n                   {obj.map((p)=>{\n                       if(p.Present==1){\n                           count = count +1;\n                           \n                       return(\n                           <tbody key={p.StudentName} style={{backgroundColor:\"#ccc\"}} >\n                           <tr>\n                           <td style={{color:\"black\",padding:20}}>{p.StudentName}</td>\n                        <td style={{color:\"black\",padding:20}}>{p.Date}</td>\n                        </tr>\n                          </tbody>\n                       );\n\n                       }\n                   })}\n                   </table>\n                   \n                   <div style={{display:display4,margin:10}} >\n                   {name} was present {count} {count>1?\"days\":\"day\"} between {fromdd+\"/\"+frommm+\"/\"+fromyy} to  {todd+\"/\"+tomm+\"/\"+toyy} </div>\n                   </div>\n            </div>\n        \n    )\n\n}\n\nexport default Getstudentattendance;"]},"metadata":{},"sourceType":"module"}