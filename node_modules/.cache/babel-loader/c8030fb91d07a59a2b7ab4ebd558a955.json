{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/mydev/coreui-free-react-admin-template/src/views/Components/Sub Components/newstudententry.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { url } from \"../../Constants\";\nimport { Alert, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Newstudententry = () => {\n  _s();\n\n  const [newname, setnewname] = useState('');\n  const [names, setnames] = useState([]);\n  const [searchterm, setsearchterm] = useState();\n  const results = !searchterm ? names : names.filter(person => person.toLowerCase().includes(searchterm.toLocaleLowerCase()));\n\n  const submit = () => {\n    if (newname) {\n      fetch(\"\".concat(url, \"/jehovanissi/api/insertstudentname.php\"), {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          newname: newname\n        })\n      }).then(res => res.json()).then(result => {\n        /*#__PURE__*/\n        _jsxDEV(Alert, {\n          severity: \"success\",\n          children: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this);\n\n        window.location.reload();\n      }).catch(error => {\n        console.error(error);\n      });\n    } else {\n      /*#__PURE__*/\n      _jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Input all required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this);\n    }\n  };\n\n  const searchapi = () => {\n    fetch(\"\".concat(url, \"/jehovanissi/api/searchname.php\"), {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(result => {\n      setnames(result);\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"newentry\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      className: \"newentry-in\",\n      required: true,\n      placeholder: \"New Student\",\n      value: newname,\n      onChange: event => {\n        searchapi();\n        const str1 = event.target.value.split(' ');\n\n        for (let j = 0; j < str1.length; j++) {\n          str1[j] = str1[j].charAt(0).toUpperCase() + str1[j].substring(1);\n        }\n\n        const newstr = str1.join(' ');\n        setsearchterm(newstr);\n        setnewname(newstr);\n      },\n      list: \"namelist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n      id: \"namelist\",\n      children: results.map((k, key) => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          children: k\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        submit();\n      },\n      children: \"+Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Newstudententry, \"se/Amcm84IMxxYhfFSuCkSHj/88=\");\n\n_c = Newstudententry;\nexport default Newstudententry;\n\nvar _c;\n\n$RefreshReg$(_c, \"Newstudententry\");","map":{"version":3,"sources":["/home/david/Desktop/mydev/coreui-free-react-admin-template/src/views/Components/Sub Components/newstudententry.js"],"names":["React","useState","url","Alert","TextField","Newstudententry","newname","setnewname","names","setnames","searchterm","setsearchterm","results","filter","person","toLowerCase","includes","toLocaleLowerCase","submit","fetch","method","headers","body","JSON","stringify","then","res","json","result","window","location","reload","catch","error","console","searchapi","event","str1","target","value","split","j","length","charAt","toUpperCase","substring","newstr","join","map","k","key"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { url } from \"../../Constants\";\nimport { Alert, TextField } from \"@mui/material\";\n\nconst Newstudententry = () => {\n  const [newname, setnewname] = useState('');\n  const [names, setnames] = useState([]);\n  const [searchterm, setsearchterm] = useState();\n  const results = !searchterm ? names : names.filter(person => person.toLowerCase().includes(searchterm.toLocaleLowerCase()));\n\n\n  const submit = () => {\n    if (newname) {\n      fetch(`${url}/jehovanissi/api/insertstudentname.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n\n        },\n        body: JSON.stringify({\n          newname: newname\n\n        })\n      })\n        .then(res => res.json())\n        .then((result) => {\n          <Alert\n            severity=\"success\"\n          >{result}\n          </Alert>\n          window.location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n\n\n\n    }\n    else {\n      <Alert\n        severity=\"error\"\n      >\n        Input all required\n      </Alert>\n    }\n  }\n  const searchapi = () => {\n    fetch(`${url}/jehovanissi/api/searchname.php`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n\n      },\n    })\n      .then(res => res.json())\n      .then((result) => {\n        setnames(result);\n      }).catch((error) => {\n        console.error(error);\n      });\n  }\n\n  return (\n    <div className=\"newentry\">\n      <TextField className=\"newentry-in\"\n        required\n        placeholder=\"New Student\"\n        value={newname}\n        onChange={(event) => {\n          searchapi();\n          const str1 = event.target.value.split(' ');\n          for (let j = 0; j < str1.length; j++) {\n\n            str1[j] = str1[j].charAt(0).toUpperCase() + str1[j].substring(1);\n          }\n          const newstr = str1.join(' ');\n          setsearchterm(newstr);\n          setnewname(newstr);\n\n        }}\n        list=\"namelist\"\n      ></TextField>\n      <datalist id=\"namelist\">\n        {results.map((k, key) => {\n          return (\n            <option key={key} >{k}</option>\n          )\n        })}\n      </datalist>\n\n\n      <button className=\"btn\" onClick={() => { submit() }}>+Add</button>\n    </div>\n  )\n}\n\nexport default Newstudententry;"]},"metadata":{},"sourceType":"module"}