{"ast":null,"code":"import _toConsumableArray from\"/home/david/Desktop/mydev/Church-Management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/david/Desktop/mydev/Church-Management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/david/Desktop/mydev/Church-Management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Grid,TextField,Select,MenuItem,Button,IconButton,Typography,Table,TableBody,TableCell,TableRow,Autocomplete}from\"@mui/material\";import React,{useEffect,useState}from\"react\";import AddCircleOutlineIcon from'@mui/icons-material/AddCircleOutline';import DeleteOutlineIcon from'@mui/icons-material/DeleteOutline';import{url}from\"../Constants\";import{AlertMessage}from\"./Support/AlertMessage\";import{Datepicker}from\"./Support/Datepicker\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Accounting=function Accounting(props){var setLoading=props.setLoading;var _useState=useState([{id:1,Name:'',type:'',Amount:''}]),_useState2=_slicedToArray(_useState,2),people=_useState2[0],setPeople=_useState2[1];var _useState3=useState(2),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),names=_useState6[0],setnames=_useState6[1];var _useState7=useState({isOpen:false,message:'',variant:'filled',severity:'error'}),_useState8=_slicedToArray(_useState7,2),notify=_useState8[0],setNotify=_useState8[1];var arrOfferingTypes=[{\"name\":\"Select\",\"value\":\"\"},{\"name\":\"Tithe\",\"value\":\"Tithe\"},{\"name\":\"Offering\",\"value\":\"Offering\"},{\"name\":\"Missionary\",\"value\":\"Missionary\"},{\"name\":\"Special Offering\",\"value\":\"Special Offering\"},{\"name\":\"Baptism Offering\",\"value\":\"Baptism Offering\"},{\"name\":\"Birthday Offering\",\"value\":\"Birthday Offering\"},{\"name\":\"Wedding Offering\",\"value\":\"Wedding Offering\"},{\"name\":\"Child Dedication Offering\",\"value\":\"Child Dedication Offering\"},{\"name\":\"Committed Offering\",\"value\":\"Committed Offering\"},{\"name\":\"Building Fund\",\"value\":\"Building Fund\"}];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),dateofofferings=_useState10[0],setdateofofferings=_useState10[1];var _useState11=useState([{\"price\":2000,\"cnt\":0,\"tot\":0},{\"price\":500,\"cnt\":0,\"tot\":0},{\"price\":200,\"cnt\":0,\"tot\":0},{\"price\":100,\"cnt\":0,\"tot\":0},{\"price\":50,\"cnt\":0,\"tot\":0},{\"price\":20,\"cnt\":0,\"tot\":0},{\"price\":10,\"cnt\":0,\"tot\":0},{\"price\":5,\"cnt\":0,\"tot\":0},{\"price\":2,\"cnt\":0,\"tot\":0},{\"price\":1,\"cnt\":0,\"tot\":0}]),_useState12=_slicedToArray(_useState11,2),offeringsAsObject=_useState12[0],setOfferings=_useState12[1];var name=people.map(function(k){return k.Name;});var type=people.map(function(k){return k.type;});var amount=people.map(function(k){return k.Amount;});var today=new Date();var dd=today.getDate();dd=dd<10?\"0\"+dd:dd;var mm=today.getMonth()+1>12?today.getMonth():today.getMonth()+1;mm=mm<10?\"0\"+mm:mm;if(dd===\"00\"){dd=31;mm=mm-1;}var yyyy=today.getFullYear();today=yyyy+\"-\"+mm+\"-\"+dd;var grandTotal=offeringsAsObject.reduce(function(accumulator,item){return accumulator+item.tot;},0);grandTotal=isNaN(grandTotal)?0:grandTotal;var Total=isNaN(people.reduce(function(accumulator,item){return isNaN(accumulator)?0:accumulator+parseFloat(item.Amount);},0))?0:people.reduce(function(accumulator,item){return isNaN(accumulator)?0:accumulator+parseFloat(item.Amount);},0);var churchOffering=isNaN(grandTotal-Total)?0:grandTotal-Total;var titheTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Tithe'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Tithe'?accumulator+parseFloat(item.Amount):accumulator;},0);var offeringTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var missionaryTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Missionary'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Missionary'?accumulator+parseFloat(item.Amount):accumulator;},0);var specialofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Special Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Special Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var baptismofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Baptism Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Baptism Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var birthdayofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Birthday Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Birthday Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var weddingofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Wedding Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Wedding Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var childdedicationofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Child Dedication Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Child Dedication Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var committedofferingTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Committed Offering'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Committed Offering'?accumulator+parseFloat(item.Amount):accumulator;},0);var buildingfundTotal=isNaN(people.reduce(function(accumulator,item){return item.type==='Building Fund'?accumulator+parseFloat(item.Amount):accumulator;},0))?0:people.reduce(function(accumulator,item){return item.type==='Building Fund'?accumulator+parseFloat(item.Amount):accumulator;},0);var arrOfTotals=[{\"name\":\"Total\",\"value\":Total},{\"name\":\"Tithe Total\",\"value\":titheTotal},{\"name\":\"Offering Total\",\"value\":offeringTotal},{\"name\":\"Special Offering Total\",\"value\":specialofferingTotal},{\"name\":\"Missionary Total\",\"value\":missionaryTotal},{\"name\":\"Church Offering\",\"value\":churchOffering},{\"name\":\"Grand Total\",\"value\":grandTotal}];var submit=function submit(){if(name[0]&&dateofofferings&&amount!==0&&churchOffering>=0){setLoading(true);fetch(\"\".concat(url,\"/accounting.php\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({name:name,type:type,amount:amount,dateofofferings:dateofofferings,churchOffering:churchOffering,titheTotal:titheTotal,grandTotal:grandTotal,offeringTotal:offeringTotal,missionaryTotal:missionaryTotal,specialofferingTotal:specialofferingTotal,buildingfundTotal:buildingfundTotal,baptismofferingTotal:baptismofferingTotal,birthdayofferingTotal:birthdayofferingTotal,weddingofferingTotal:weddingofferingTotal,childdedicationofferingTotal:childdedicationofferingTotal,committedofferingTotal:committedofferingTotal,twothousands:offeringsAsObject[0].cnt,twohundreds:offeringsAsObject[2].cnt,fivehundreds:offeringsAsObject[1].cnt,hundreds:offeringsAsObject[3].cnt,fiftys:offeringsAsObject[4].cnt,twentys:offeringsAsObject[5].cnt,tens:offeringsAsObject[6].cnt,fives:offeringsAsObject[7].cnt,twos:offeringsAsObject[8].cnt,ones:offeringsAsObject[9].cnt})}).then(function(res){return res.json();}).then(function(result){setLoading(false);setNotify({isOpen:true,message:result['message'],severity:result['status']==1?'success':'error',variant:'filled'});}).catch(function(error){console.error(error);});}else{setNotify(_objectSpread(_objectSpread({},notify),{},{isOpen:true,message:\"Input required\",severity:\"error\"}));}};var searchapi=function searchapi(){setLoading(true);fetch(\"\".concat(url,\"/searchname.php\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(result){setLoading(false);setnames(result);}).catch(function(error){console.error(error);});};useEffect(function(){searchapi();},[]);return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(AlertMessage,{notify:notify,setNotify:setNotify}),/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-evenly\",direction:\"row\",children:[/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Table,{size:\"small\",children:people.map(function(p,index){return/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Autocomplete,{options:names,fullWidth:false,style:{width:200},onChange:function onChange(val,event){var str=event;setPeople.apply(void 0,[people].concat([people[index].Name=str]));console.log(p.Name);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{margin:\"dense\",ref:params.InputProps.ref,size:\"small\",placeholder:\"Enter Name\",value:p.Name}));}})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Select,{size:\"small\",style:{width:200,marginTop:7},onChange:function onChange(event){var type=event.target.value;setPeople(function(currentPeople){return currentPeople.map(function(x){return x.id===p.id?_objectSpread(_objectSpread({},x),{},{type:type}):x;});});},children:arrOfferingTypes.map(function(val,key){return/*#__PURE__*/_jsx(MenuItem,{value:val.value,children:val.name},key);})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(TextField,{margin:\"dense\",size:\"small\",style:{width:200},onChange:function onChange(event){var Am=event.target.value;var patt=/[^0-9]/g;var Amount=parseFloat(Am.replace(patt,''));setPeople(function(currentPeople){return currentPeople.map(function(x){return x.id===p.id?_objectSpread(_objectSpread({},x),{},{Amount:Amount}):x;});});},value:p.Amount,type:\"number\",placeholder:\"Enter Amount\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{style:{justifySelf:\"center\",alignSelf:\"center\"},onClick:function onClick(){setPeople(function(currentPeople){return currentPeople.filter(function(x){return x.id!==p.id;});});setCount(count-1);},children:/*#__PURE__*/_jsx(DeleteOutlineIcon,{style:{justifySelf:\"center\",alignSelf:\"center\"}})})})]})},p.id);})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){setPeople(function(currentPeople){return[].concat(_toConsumableArray(currentPeople),[{id:count,Name:'',type:'',Amount:''}]);});setCount(count+1);},children:/*#__PURE__*/_jsx(AddCircleOutlineIcon,{})}),/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsx(TableBody,{children:arrOfTotals.map(function(val,key){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:val.name}),/*#__PURE__*/_jsx(TableCell,{children:val.value})]},key);})})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:submit,children:\"Submit\"})]}),/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Datepicker,{value:dateofofferings,setValue:setdateofofferings,label:\"Set Date\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setdateofofferings(today);},children:\"Click if date is todays date\"}),/*#__PURE__*/_jsx(Table,{size:\"small\",children:/*#__PURE__*/_jsx(TableBody,{children:offeringsAsObject.map(function(k,key){return/*#__PURE__*/_jsxs(TableRow,{direction:\"row\",justifyItems:\"center\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{margin:3,children:[k.price,\" x \"]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(TextField,{style:{width:100},margin:\"dense\",size:\"small\",onChange:function onChange(e){var value=e.target.value;setOfferings(function(cp){return cp.map(function(l,lkey){return lkey===key?_objectSpread(_objectSpread({},l),{},{cnt:parseInt(value==''?0:value),tot:parseInt(value==''?0:value)*k.price}):l;});});}})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{children:[\" = \",isNaN(k.tot)?0:k.tot]})})]},key);})})})]})]})]});};export default Accounting;","map":{"version":3,"sources":["/home/david/Desktop/mydev/Church-Management/src/views/Components/Accounting.js"],"names":["Grid","TextField","Select","MenuItem","Button","IconButton","Typography","Table","TableBody","TableCell","TableRow","Autocomplete","React","useEffect","useState","AddCircleOutlineIcon","DeleteOutlineIcon","url","AlertMessage","Datepicker","Accounting","props","setLoading","id","Name","type","Amount","people","setPeople","count","setCount","names","setnames","isOpen","message","variant","severity","notify","setNotify","arrOfferingTypes","dateofofferings","setdateofofferings","offeringsAsObject","setOfferings","name","map","k","amount","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","grandTotal","reduce","accumulator","item","tot","isNaN","Total","parseFloat","churchOffering","titheTotal","offeringTotal","missionaryTotal","specialofferingTotal","baptismofferingTotal","birthdayofferingTotal","weddingofferingTotal","childdedicationofferingTotal","committedofferingTotal","buildingfundTotal","arrOfTotals","submit","fetch","method","headers","body","JSON","stringify","twothousands","cnt","twohundreds","fivehundreds","hundreds","fiftys","twentys","tens","fives","twos","ones","then","res","json","result","catch","error","console","searchapi","p","index","width","val","event","str","log","params","InputProps","ref","marginTop","target","value","currentPeople","x","key","Am","patt","replace","justifySelf","alignSelf","filter","price","e","cp","l","lkey","parseInt"],"mappings":"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","sourcesContent":["import { Grid, TextField, Select, MenuItem, Button, IconButton, Typography, Table, TableBody, TableCell, TableRow, Autocomplete } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport { url } from \"../Constants\";\nimport { AlertMessage } from \"./Support/AlertMessage\";\nimport { Datepicker } from \"./Support/Datepicker\";\n\n\n\nconst Accounting = (props) => {\n  const {setLoading} = props;\n  const [people, setPeople] = useState([{ id: 1, Name: '', type: '', Amount: '' }]);\n  const [count, setCount] = useState(2);\n  const [names, setnames] = useState([]);\n  const [notify, setNotify] = useState({ isOpen: false, message: '', variant: 'filled', severity: 'error' });\n\n\n  const arrOfferingTypes = [\n    { \"name\": \"Select\", \"value\": \"\" },\n    { \"name\": \"Tithe\", \"value\": \"Tithe\" },\n    { \"name\": \"Offering\", \"value\": \"Offering\" },\n    { \"name\": \"Missionary\", \"value\": \"Missionary\" },\n    { \"name\": \"Special Offering\", \"value\": \"Special Offering\" },\n    { \"name\": \"Baptism Offering\", \"value\": \"Baptism Offering\" },\n    { \"name\": \"Birthday Offering\", \"value\": \"Birthday Offering\" },\n    { \"name\": \"Wedding Offering\", \"value\": \"Wedding Offering\" },\n    { \"name\": \"Child Dedication Offering\", \"value\": \"Child Dedication Offering\" },\n    { \"name\": \"Committed Offering\", \"value\": \"Committed Offering\" },\n    { \"name\": \"Building Fund\", \"value\": \"Building Fund\" }\n  ]\n\n\n  const [dateofofferings, setdateofofferings] = useState();\n\n  const [offeringsAsObject, setOfferings] = useState(\n    [\n      { \"price\": 2000, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 500, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 200, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 100, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 50, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 20, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 10, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 5, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 2, \"cnt\": 0, \"tot\": 0 },\n      { \"price\": 1, \"cnt\": 0, \"tot\": 0 },\n    ]\n  );\n\n  let name = people.map((k) => k.Name);\n\n  let type = people.map((k) => k.type);\n\n  let amount = people.map((k) => k.Amount);\n\n\n\n\n\n  let today = new Date();\n\n  let dd = today.getDate();\n  dd = dd < 10 ? \"0\" + dd : dd;\n\n\n  let mm = (today.getMonth() + 1) > 12 ? today.getMonth() : today.getMonth() + 1;\n  mm = mm < 10 ? \"0\" + mm : mm;\n  if (dd === \"00\") {\n    dd = 31;\n    mm = mm - 1;\n  }\n  let yyyy = today.getFullYear();\n\n  today = yyyy + \"-\" + mm + \"-\" + dd;\n\n  let grandTotal = offeringsAsObject.reduce((accumulator, item) => accumulator + item.tot, 0);\n  grandTotal = isNaN(grandTotal) ? 0 : grandTotal;\n\n  let Total = isNaN(people.reduce((accumulator, item) => isNaN(accumulator) ? 0 : accumulator + parseFloat(item.Amount), 0)) ? 0 : people.reduce((accumulator, item) => isNaN(accumulator) ? 0 : accumulator + parseFloat(item.Amount), 0);\n\n  const churchOffering = isNaN(grandTotal - Total) ? 0 : grandTotal - Total;\n\n\n\n  let titheTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Tithe' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Tithe' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let offeringTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let missionaryTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Missionary' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Missionary' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let specialofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Special Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Special Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let baptismofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Baptism Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Baptism Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let birthdayofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Birthday Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Birthday Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let weddingofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Wedding Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Wedding Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let childdedicationofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Child Dedication Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Child Dedication Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let committedofferingTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Committed Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Committed Offering' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let buildingfundTotal = isNaN(people.reduce((accumulator, item) => item.type === 'Building Fund' ? accumulator + parseFloat(item.Amount) : accumulator, 0)) ? 0 : people.reduce((accumulator, item) => item.type === 'Building Fund' ? accumulator + parseFloat(item.Amount) : accumulator, 0);\n\n  let arrOfTotals = [\n    { \"name\": \"Total\", \"value\": Total },\n    { \"name\": \"Tithe Total\", \"value\": titheTotal },\n    { \"name\": \"Offering Total\", \"value\": offeringTotal },\n    { \"name\": \"Special Offering Total\", \"value\": specialofferingTotal },\n    { \"name\": \"Missionary Total\", \"value\": missionaryTotal },\n    { \"name\": \"Church Offering\", \"value\": churchOffering },\n    { \"name\": \"Grand Total\", \"value\": grandTotal }\n  ]\n\n  const submit = () => {\n    if (name[0] && dateofofferings && (amount !== 0) && churchOffering >= 0) {\n      setLoading(true);\n      fetch(`${url}/accounting.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n\n        },\n        body: JSON.stringify({\n          name: name,\n          type: type,\n          amount: amount,\n          dateofofferings: dateofofferings,\n          churchOffering: churchOffering,\n          titheTotal: titheTotal,\n          grandTotal: grandTotal,\n          offeringTotal: offeringTotal,\n          missionaryTotal: missionaryTotal,\n          specialofferingTotal: specialofferingTotal,\n          buildingfundTotal: buildingfundTotal,\n          baptismofferingTotal: baptismofferingTotal,\n          birthdayofferingTotal: birthdayofferingTotal,\n          weddingofferingTotal: weddingofferingTotal,\n          childdedicationofferingTotal: childdedicationofferingTotal,\n          committedofferingTotal: committedofferingTotal,\n          twothousands: offeringsAsObject[0].cnt,\n          twohundreds: offeringsAsObject[2].cnt,\n          fivehundreds: offeringsAsObject[1].cnt,\n          hundreds: offeringsAsObject[3].cnt,\n          fiftys: offeringsAsObject[4].cnt,\n          twentys: offeringsAsObject[5].cnt,\n          tens: offeringsAsObject[6].cnt,\n          fives: offeringsAsObject[7].cnt,\n          twos: offeringsAsObject[8].cnt,\n          ones: offeringsAsObject[9].cnt\n\n        })\n      })\n        .then(res => res.json())\n        .then((result) => {\n          setLoading(false);\n          setNotify({\n            isOpen: true,\n            message: result['message'],\n            severity:result['status']==1?'success':'error',\n            variant: 'filled'\n          })\n\n        }).catch((error) => {\n          console.error(error);\n        });\n\n    }\n\n\n    else {\n      setNotify({\n        ...notify,\n        isOpen: true,\n        message: \"Input required\",\n        severity: \"error\"\n      })\n    }\n  }\n\n\n  const searchapi = () => {\n    setLoading(true);\n    fetch(`${url}/searchname.php`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n\n      },\n    })\n      .then(res => res.json())\n      .then((result) => {\n        setLoading(false);\n        setnames(result);\n      }).catch((error) => {\n        console.error(error);\n      });\n  }\n  useEffect(() => {\n    searchapi();\n  }, [])\n\n\n\n  return (\n    <Grid>\n\n      <AlertMessage\n        notify={notify}\n        setNotify={setNotify}\n      />\n      <Grid\n        container\n        justifyContent={\"space-evenly\"}\n        direction={\"row\"}\n      >\n        <Grid>\n          <Table\n            size=\"small\"\n          >\n            {people.map((p,index) => {\n              return (\n                <Grid key={p.id}>\n                  <TableRow>\n                    <TableCell>\n                      <Autocomplete\n                        options={names}\n                        fullWidth={false}\n                        style={{ width: 200 }}\n                        onChange={(val,event) => {\n                          let str = event;\n                          setPeople(...[people],people[index].Name = str);\n                          console.log(p.Name);\n                        }}\n                        renderInput={params =>\n                          <TextField\n                            {...params}\n                            margin=\"dense\"\n                            ref={params.InputProps.ref}\n                            size=\"small\"\n                            placeholder=\"Enter Name\"\n                            value={p.Name}\n                          />\n                        }\n                        \n                      />\n                    </TableCell>\n                    <TableCell>\n\n                      <Select\n                        size=\"small\"\n                        style={{ width: 200, marginTop: 7 }}\n                        onChange={(event) => {\n                          const type = event.target.value;\n                          setPeople((currentPeople) => currentPeople.map(x => x.id === p.id ? {\n                            ...x,\n                            type\n                          } : x));\n\n                        }}\n                      >\n\n                        {arrOfferingTypes.map((val, key) => {\n                          return (\n                            <MenuItem\n                              key={key}\n                              value={val.value}\n                            >\n                              {val.name}\n                            </MenuItem>\n                          )\n                        })}\n                      </Select>\n                    </TableCell>\n                    <TableCell>\n\n                      <TextField\n                        margin=\"dense\"\n                        size=\"small\"\n                        style={{ width: 200 }}\n                        onChange={(event) => {\n                          const Am = event.target.value;\n                          let patt = /[^0-9]/g;\n                          const Amount = parseFloat(Am.replace(patt, ''));\n                          setPeople((currentPeople) => currentPeople.map(x => x.id === p.id ? {\n                            ...x,\n                            Amount\n                          } : x));\n                        }}\n                        value={p.Amount}\n                        type=\"number\"\n                        placeholder=\"Enter Amount\" />\n                    </TableCell>\n                    <TableCell>\n\n                      <IconButton\n                        style={{ justifySelf: \"center\", alignSelf: \"center\" }}\n                        onClick={\n                          () => {\n                            setPeople(currentPeople => currentPeople.filter(x => x.id !== p.id)); setCount(count - 1)\n                          }\n                        }>\n                        <DeleteOutlineIcon\n                          style={{ justifySelf: \"center\", alignSelf: \"center\" }}\n                        />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                </Grid>\n              )\n\n            })}\n          </Table>\n          <IconButton\n            onClick={() => {\n              setPeople(currentPeople => [...currentPeople, {\n                id: count,\n                Name: '',\n                type: '',\n                Amount: '',\n              }]); setCount(count + 1)\n            }}\n          ><AddCircleOutlineIcon /></IconButton>\n          <Table>\n            <TableBody>\n              {arrOfTotals.map((val, key) => {\n                return (\n                  <TableRow\n                    key={key}\n                  >\n                    <TableCell>{val.name}</TableCell>\n                    <TableCell>{val.value}</TableCell>\n                  </TableRow>\n                )\n              })}\n            </TableBody>\n          </Table>\n          <Button\n            variant=\"contained\"\n            onClick={submit}\n          >\n            Submit\n          </Button>\n        </Grid>\n        <Grid>\n          <Datepicker\n            value={dateofofferings}\n            setValue={setdateofofferings}\n            label='Set Date'\n          />\n          <Button\n            onClick={() => setdateofofferings(today)}\n          >\n            Click if date is todays date\n          </Button>\n          <Table\n            size=\"small\"\n          >\n            <TableBody>\n              {offeringsAsObject.map((k, key) => {\n                return (\n                  <TableRow\n                    key={key}\n                    direction={\"row\"}\n                    justifyItems={\"center\"}\n                    alignItems={\"center\"}\n                  >\n                    <TableCell>\n                      <Typography\n                        margin={3}\n                      >{k.price} x </Typography>\n                    </TableCell>\n                    <TableCell>\n                      <TextField\n                        style={{ width: 100 }}\n                        margin=\"dense\"\n                        size=\"small\"\n                        onChange={(e) => {\n                          let value = e.target.value\n                          setOfferings(cp => cp.map((l, lkey) => lkey === key ?\n                            {\n                              ...l,\n                              cnt: parseInt(value == '' ? 0 : value),\n                              tot: parseInt(value == '' ? 0 : value) * k.price\n                            }\n                            : l))\n                        }}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Typography> = {isNaN(k.tot) ? 0 : k.tot}</Typography>\n                    </TableCell>\n                  </TableRow>\n                )\n              })}\n            </TableBody>\n          </Table>\n        </Grid>\n\n      </Grid>\n    </Grid>\n\n  )\n}\nexport default Accounting;"]},"metadata":{},"sourceType":"module"}