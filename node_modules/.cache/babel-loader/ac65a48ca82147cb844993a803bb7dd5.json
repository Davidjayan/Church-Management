{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/mydev/coreui-free-react-admin-template/src/views/Components/Sub Components/Inputchurchattendance.js\",\n    _s = $RefreshSig$();\n\nimport { CAlert } from \"@coreui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { url } from \"../../Constants\";\nimport { AlertMessage } from \"../Support/AlertMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Inputchurchattendance = () => {\n  _s();\n\n  const [namelist, setnamelist] = useState([]);\n  const [churchattendance, setchurchattendance] = useState([]);\n  const [date, setdate] = useState();\n  const [service, setservice] = useState();\n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    variant: 'filled',\n    severity: 'error'\n  });\n  const obj = [];\n  let today = new Date();\n  let dd = today.getDate();\n  dd = dd < 10 ? \"0\" + dd : dd;\n\n  if (dd === \"00\") {\n    dd = 31;\n    mm = mm - 1;\n  }\n\n  let mm = today.getMonth() + 1 > 12 ? today.getMonth() : today.getMonth() + 1;\n  mm = mm < 10 ? \"0\" + mm : mm;\n  let yyyy = today.getFullYear();\n  today = yyyy + \"-\" + mm + \"-\" + dd;\n  useEffect(() => {\n    fetch(\"\".concat(url, \"//searchname.php\"), {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(result => {\n      setnamelist(result);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  let i = 0;\n  const count = namelist.length;\n\n  for (i = 0; i < count; i++) {\n    if (namelist[i] !== '') {\n      obj.push({\n        \"name\": namelist[i],\n        \"present\": false\n      });\n    }\n  }\n\n  useEffect(() => {\n    setchurchattendance(obj); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [namelist]);\n\n  const submit = () => {\n    if (churchattendance) {\n      fetch(\"\".concat(url, \"//church_attendance.php\"), {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          churchattendance: churchattendance,\n          date: date,\n          service: service\n        })\n      }).then(res => res.json()).then(result => {\n        setNotify({ ...notify,\n          isOpen: true,\n          message: result\n        });\n        window.location.reload();\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"church-attendance-body\",\n    children: [/*#__PURE__*/_jsxDEV(AlertMessage, {\n      notify: notify,\n      setNotify: setNotify\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"sel-inp\",\n      onChange: event => setservice(event.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"FIRST SERVICE\",\n        children: \"FIRST SERVICE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"SECOND SERVICE\",\n        children: \"SECOND SERVICE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"THIRD SERVICE\",\n        children: \"THIRD SERVICE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"inp\",\n      type: \"date\",\n      onChange: event => {\n        setdate(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        setdate(today);\n      },\n      children: \"Click if Today\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Date:\", date]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Present\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Absent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: churchattendance.map(p => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: event => {\n                    let temp = true;\n                    event.target.value === 'true' ? temp = true : temp = false;\n                    const present = temp;\n                    setchurchattendance(cp => cp.map(x => x.name === p.name ? { ...x,\n                      present\n                    } : x));\n                  },\n                  type: \"radio\",\n                  name: p.name,\n                  value: \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 51\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fas fa-check present\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 67\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: event => {\n                    let temp = true;\n                    event.target.value === 'false' ? temp = false : temp = true;\n                    const present = temp;\n                    setchurchattendance(cp => cp.map(x => x.name === p.name ? { ...x,\n                      present\n                    } : x));\n                  },\n                  type: \"radio\",\n                  name: p.name,\n                  value: \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 51\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fas fa-times absent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 22\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, p.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        submit();\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Inputchurchattendance, \"AQGDoncy7WYMsUfRczSzSxNurNg=\");\n\n_c = Inputchurchattendance;\nexport default Inputchurchattendance;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inputchurchattendance\");","map":{"version":3,"sources":["/home/david/Desktop/mydev/coreui-free-react-admin-template/src/views/Components/Sub Components/Inputchurchattendance.js"],"names":["CAlert","React","useEffect","useState","url","AlertMessage","Inputchurchattendance","namelist","setnamelist","churchattendance","setchurchattendance","date","setdate","service","setservice","notify","setNotify","isOpen","message","variant","severity","obj","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","fetch","method","headers","then","res","json","result","catch","error","console","i","count","length","push","submit","body","JSON","stringify","window","location","reload","event","target","value","map","p","name","temp","present","cp","x"],"mappings":"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","sourcesContent":["import { CAlert } from \"@coreui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { url } from \"../../Constants\";\nimport { AlertMessage } from \"../Support/AlertMessage\";\n\nconst Inputchurchattendance = () => {\n\n  const [namelist, setnamelist] = useState([]);\n  const [churchattendance, setchurchattendance] = useState([]);\n  const [date, setdate] = useState();\n  const [service, setservice] = useState();\n  const [notify, setNotify] = useState({ isOpen: false, message: '', variant: 'filled', severity: 'error' });\n\n  const obj = [];\n\n  let today = new Date();\n\n  let dd = today.getDate();\n  dd = dd < 10 ? \"0\" + dd : dd;\n  if (dd === \"00\") {\n    dd = 31;\n    mm = mm - 1;\n  }\n\n  let mm = (today.getMonth() + 1) > 12 ? today.getMonth() : today.getMonth() + 1;\n  mm = mm < 10 ? \"0\" + mm : mm;\n  let yyyy = today.getFullYear();\n\n\n  today = yyyy + \"-\" + mm + \"-\" + dd;\n\n\n  useEffect(() => {\n    fetch(`${url}//searchname.php`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n\n      },\n    })\n      .then(res => res.json())\n      .then((result) => {\n        setnamelist(result);\n      }).catch((error) => {\n        console.error(error);\n      });\n  }, []);\n\n  let i = 0;\n  const count = namelist.length;\n\n  for (i = 0; i < count; i++) {\n    if (namelist[i] !== '') {\n      obj.push({ \"name\": namelist[i], \"present\": false });\n    }\n  }\n\n  useEffect(() => {\n\n\n    setchurchattendance(obj);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [namelist]);\n\n  const submit = () => {\n    if (churchattendance) {\n      fetch(`${url}//church_attendance.php`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n\n        },\n        body: JSON.stringify({\n          churchattendance: churchattendance,\n          date: date,\n          service: service\n\n\n        })\n      })\n        .then(res => res.json())\n        .then((result) => {\n          setNotify({\n            ...notify,\n            isOpen:true,\n            message:result\n          })\n          window.location.reload();\n        }).catch((error) => {\n          console.error(error);\n        });\n\n    }\n  }\n\n  return (\n\n    <div className=\"church-attendance-body\">\n      <AlertMessage\n        notify={notify}\n        setNotify={setNotify}\n      />\n      <select className=\"sel-inp\" onChange={(event) => setservice(event.target.value)}>\n        <option value=\"FIRST SERVICE\">FIRST SERVICE</option>\n        <option value=\"SECOND SERVICE\">SECOND SERVICE</option>\n        <option value=\"THIRD SERVICE\">THIRD SERVICE</option>\n\n\n      </select>\n      <input className=\"inp\" type=\"date\" onChange={(event) => { setdate(event.target.value) }} ></input>\n      <button className=\"btn\" onClick={() => {\n        setdate(today)\n      }}>Click if Today</button>\n      <p>Date:{date}</p>\n      <table>\n        <thead>\n          <tr><th>Name</th>\n            <th>Present</th>\n            <th>Absent</th></tr>\n        </thead>\n        <tbody>\n          {churchattendance.map((p) => {\n            return (\n              <tr key={p.name} >\n                <td>{p.name}</td>\n                <td ><label className=\"container\"><input\n\n                  onChange={\n                    (event) => {\n                      let temp = true;\n\n                      event.target.value === 'true' ? temp = true : temp = false;\n                      const present = temp;\n                      setchurchattendance((cp) => cp.map(x => x.name === p.name ? {\n                        ...x,\n                        present\n                      } : x))\n                    }} type=\"radio\" name={p.name} value=\"true\" /> <span className=\"fas fa-check present\"></span> </label></td>\n                <td ><label className=\"container\"><input\n                  onChange={\n                    (event) => {\n                      let temp = true;\n                      event.target.value === 'false' ? temp = false : temp = true;\n                      const present = temp;\n                      setchurchattendance((cp) => cp.map(x => x.name === p.name ? {\n                        ...x,\n                        present\n                      } : x))\n                    }}\n                  type=\"radio\" name={p.name} value=\"false\" /> <span className=\"fas fa-times absent\"></span></label> </td>\n              </tr>\n            )\n          })}</tbody>\n        <tfoot></tfoot>\n\n\n      </table>\n\n      <button className=\"btn\" onClick={() => { submit() }}>Submit</button>\n\n    </div>\n  )\n}\n\nexport default Inputchurchattendance;"]},"metadata":{},"sourceType":"module"}